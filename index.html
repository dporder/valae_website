<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valae - AI brought down to earth</title>
<link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA">
<link href="https://fonts.googleapis.com/css2?family=Unbounded:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
/* ================================================================
   BROTHER 1816 — LOCAL @font-face
   ================================================================ */
@font-face { font-family: 'Brother 1816'; font-weight: 300; font-style: normal; font-display: swap; src: url('fonts/Brother 1816/Brother-1816-Font/Brother-1816-Light.woff2') format('woff2'); }
@font-face { font-family: 'Brother 1816'; font-weight: 300; font-style: italic; font-display: swap; src: url('fonts/Brother 1816/Brother-1816-Font/Brother-1816-Light-Italic.woff2') format('woff2'); }
@font-face { font-family: 'Brother 1816'; font-weight: 400; font-style: normal; font-display: swap; src: url('fonts/Brother 1816/Brother-1816-Font/Brother-1816-Regular.woff2') format('woff2'); }
@font-face { font-family: 'Brother 1816'; font-weight: 400; font-style: italic; font-display: swap; src: url('fonts/Brother 1816/Brother-1816-Font/Brother-1816-Regular-Italic.woff2') format('woff2'); }
@font-face { font-family: 'Brother 1816'; font-weight: 500; font-style: normal; font-display: swap; src: url('fonts/Brother 1816/Brother-1816-Font/Brother-1816-Medium.woff2') format('woff2'); }
@font-face { font-family: 'Brother 1816'; font-weight: 500; font-style: italic; font-display: swap; src: url('fonts/Brother 1816/Brother-1816-Font/Brother-1816-Medium-Italic.woff2') format('woff2'); }
@font-face { font-family: 'Brother 1816'; font-weight: 600; font-style: normal; font-display: swap; src: url('fonts/Brother 1816/Brother-1816-Font/Brother-1816-Bold.woff2') format('woff2'); }
@font-face { font-family: 'Brother 1816'; font-weight: 600; font-style: italic; font-display: swap; src: url('fonts/Brother 1816/Brother-1816-Font/Brother-1816-Bold-Italic.woff2') format('woff2'); }
@font-face { font-family: 'Brother 1816'; font-weight: 700; font-style: normal; font-display: swap; src: url('fonts/Brother 1816/Brother-1816-Font/Brother-1816-Extra-Bold.woff2') format('woff2'); }
@font-face { font-family: 'Brother 1816'; font-weight: 700; font-style: italic; font-display: swap; src: url('fonts/Brother 1816/Brother-1816-Font/Brother-1816-Extra-Bold-Italic.woff2') format('woff2'); }

/* ================================================================
   RESET & VARIABLES
   ================================================================ */
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

:root {
  --forest: #003017;
  --forest-deep: #001a0d;
  --forest-mid: #002a14;
  --pistachio: #BAD9A8;
  --pistachio-light: #d4eac6;
  --pistachio-dim: rgba(186,217,168,0.15);
  --offwhite: #DFDCD7;
  --charcoal: #1A1D1B;
  --bg: #FAFAF7;
  --bg-warm: #F5F2ED;
  --white: #ffffff;
  --max-w: 1100px;
  --ease: cubic-bezier(0.16, 1, 0.3, 1);
  --font-display: 'Unbounded', sans-serif;
  --font-body: 'Brother 1816', -apple-system, BlinkMacSystemFont, sans-serif;
}

html { scroll-behavior: smooth; }

body {
  font-family: var(--font-body);
  background: var(--bg);
  color: var(--charcoal);
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
  overflow-x: hidden;
}

/* ================================================================
   UTILITY
   ================================================================ */
.container { max-width: var(--max-w); margin: 0 auto; padding: 0 40px; }
a { text-decoration: none; color: inherit; }

/* Page management */
.page { display: none; }
.page.active { display: block; }

/* ================================================================
   ANIMATIONS
   ================================================================ */
@keyframes fadeUp {
  from { opacity: 0; transform: translateY(30px); }
  to   { opacity: 1; transform: translateY(0); }
}
@keyframes fadeIn {
  from { opacity: 0; }
  to   { opacity: 1; }
}
@keyframes pulse {
  0%, 100% { opacity: 0.4; transform: scale(1); }
  50% { opacity: 1; transform: scale(1.3); }
}
@keyframes float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-8px); }
}
@keyframes slideRight {
  from { transform: translateX(-100%); opacity: 0; }
  to { transform: translateX(0); opacity: 1; }
}
@keyframes drawLine {
  from { width: 0; }
  to { width: 100%; }
}

.fade-up { opacity: 0; animation: fadeUp 0.8s var(--ease) forwards; }
.fade-up-d1 { animation-delay: 0.15s; }
.fade-up-d2 { animation-delay: 0.3s; }
.fade-up-d3 { animation-delay: 0.45s; }
.fade-up-d4 { animation-delay: 0.6s; }
.fade-up-d5 { animation-delay: 0.75s; }

/* ================================================================
   NAV
   ================================================================ */
.nav {
  position: fixed; top: 0; left: 0; right: 0; z-index: 100;
  padding: 0 40px; transition: all 0.4s ease;
}
.nav.at-top {
  background: transparent;
}
.nav.scrolled {
  background: rgba(0,48,23,0.95);
  backdrop-filter: blur(20px);
  border-bottom: 1px solid rgba(186,217,168,0.15);
}
.nav-inner {
  max-width: var(--max-w); margin: 0 auto;
  display: flex; align-items: center; justify-content: space-between; height: 64px;
}
.nav-brand {
  display: flex; align-items: center; gap: 12px;
  color: var(--pistachio);
}
.nav-brand-mark {
  width: 32px; height: 32px; flex-shrink: 0;
}
.nav-brand-wordmark {
  display: flex; flex-direction: column; gap: 1px;
}
.nav-brand-name {
  font-family: var(--font-display); font-weight: 600; font-size: 15px;
  color: var(--pistachio); letter-spacing: -0.5px; line-height: 1;
}
.nav-brand-sub {
  font-family: var(--font-display); font-weight: 300; font-size: 10px;
  color: rgba(186,217,168,0.45); letter-spacing: 1.5px; text-transform: uppercase; line-height: 1;
}
.nav-cta {
  display: inline-flex; align-items: center; gap: 8px;
  padding: 10px 22px; border-radius: 8px;
  background: var(--pistachio); color: var(--forest);
  font-weight: 600; font-size: 14px; letter-spacing: -0.2px;
  transition: all 0.3s ease; cursor: pointer; border: none;
}
.nav-cta:hover { background: var(--pistachio-light); transform: translateY(-1px); }

/* ================================================================
   PAGE 1: PRODUCT PAGE
   ================================================================ */

/* --- HERO (Fold 1) --- */
.hero {
  position: relative; overflow: hidden;
  min-height: 100vh; display: flex; align-items: center;
  background: var(--forest);
  padding: 120px 0 100px;
}
.hero-video-bg {
  position: absolute; inset: 0; z-index: 0; overflow: hidden;
  pointer-events: none;
}
.hero-video-bg video {
  position: absolute;
  top: 50%; left: 50%;
  width: 100%; height: 100%;
  min-width: 100%; min-height: 100%;
  transform: translate(-50%, -50%);
  object-fit: cover;
  pointer-events: none;
}
.hero-overlay {
  position: absolute; inset: 0; z-index: 1;
  background: linear-gradient(180deg, rgba(0,26,13,0.88) 0%, rgba(0,48,23,0.82) 50%, rgba(0,32,14,0.92) 100%);
}
.hero::after {
  content: ''; position: absolute; inset: 0; z-index: 2; opacity: 0.04;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
  pointer-events: none;
}
.hero-static-canvas {
  position: absolute; inset: 0; z-index: 2;
  width: 100%; height: 100%;
  opacity: 0.03;
  pointer-events: none;
}
.hero-content {
  position: relative; z-index: 3;
  max-width: var(--max-w); margin: 0 auto; padding: 0 40px;
  text-align: center;
}
.hero-badge {
  display: inline-flex; align-items: center; gap: 8px;
  padding: 8px 18px 8px 14px;
  background: rgba(186,217,168,0.08);
  border: 1px solid rgba(186,217,168,0.15);
  border-radius: 100px;
  font-size: 14px; font-weight: 500; color: var(--pistachio);
  margin-bottom: 36px; letter-spacing: 0.3px;
}
.hero-badge-dot {
  width: 6px; height: 6px; border-radius: 50%;
  background: var(--pistachio);
  animation: pulse 2s ease infinite;
}
.hero h1 {
  font-family: var(--font-display);
  font-size: clamp(36px, 5vw, 56px);
  font-weight: 600; line-height: 1.1;
  color: var(--offwhite);
  letter-spacing: -2px;
  margin-bottom: 28px;
  max-width: 800px; margin-left: auto; margin-right: auto;
}
.hero h1 em {
  font-style: italic; color: var(--pistachio);
}
.hero-sub {
  font-size: 18px; line-height: 1.65; color: rgba(223,220,215,0.7);
  max-width: 580px; margin: 0 auto 44px;
  font-weight: 400;
}
.hero-cta-wrap {
  display: flex; align-items: center; justify-content: center; gap: 16px;
  flex-wrap: wrap;
}
.btn-primary {
  display: inline-flex; align-items: center; gap: 10px;
  padding: 16px 32px;
  background: var(--pistachio); color: var(--forest);
  font-weight: 600; font-size: 16px;
  border-radius: 12px; border: none; cursor: pointer;
  transition: all 0.3s var(--ease);
  letter-spacing: -0.3px;
}
.btn-primary:hover { background: var(--pistachio-light); transform: translateY(-2px); box-shadow: 0 8px 30px rgba(186,217,168,0.25); }
.btn-primary svg { transition: transform 0.3s ease; }
.btn-primary:hover svg { transform: translateX(3px); }

.btn-ghost {
  display: inline-flex; align-items: center; gap: 8px;
  padding: 16px 28px;
  background: transparent;
  border: 1.5px solid rgba(186,217,168,0.25);
  color: var(--pistachio);
  font-weight: 500; font-size: 15px;
  border-radius: 12px; cursor: pointer;
  transition: all 0.3s ease;
}
.btn-ghost:hover { border-color: rgba(186,217,168,0.5); background: rgba(186,217,168,0.05); }

.hero-stat-row {
  display: flex; align-items: center; justify-content: center; gap: 48px;
  margin-top: 64px; padding-top: 40px;
  border-top: 1px solid rgba(186,217,168,0.1);
}
.hero-stat {
  text-align: center;
}
.hero-stat-num {
  font-family: var(--font-display);
  font-size: 32px; font-weight: 700;
  color: var(--pistachio);
  letter-spacing: -1px;
}
.hero-stat-label {
  font-size: 14px; color: rgba(223,220,215,0.5);
  margin-top: 4px; letter-spacing: 0.3px;
}

/* --- PROBLEM → SOLUTION (Fold 2) --- */
.section-problem {
  padding: 120px 0;
  background: var(--bg);
  position: relative;
}
.section-label {
  display: inline-flex; align-items: center; gap: 8px;
  font-size: 12px; font-weight: 600; letter-spacing: 2px; text-transform: uppercase;
  color: var(--forest); opacity: 0.5;
  margin-bottom: 20px;
}
.section-title {
  font-family: var(--font-display);
  font-size: clamp(28px, 3.5vw, 40px);
  font-weight: 600; line-height: 1.15;
  color: var(--charcoal);
  letter-spacing: -1.5px;
  margin-bottom: 20px;
}
.section-title em { font-style: italic; color: var(--forest); }
.section-sub {
  font-size: 17px; line-height: 1.7; color: rgba(26,29,27,0.6);
  max-width: 600px; margin-bottom: 40px;
}

/* Flow diagram */
.flow-diagram {
  display: grid;
  grid-template-columns: 1fr auto 1fr auto 1fr;
  gap: 0; align-items: center;
  margin-bottom: 0;
}
.flow-step {
  background: var(--white);
  border: 1.5px solid rgba(0,48,23,0.08);
  border-radius: 16px;
  padding: 32px 28px;
  text-align: center;
  transition: all 0.3s ease;
}
.flow-step:hover {
  border-color: rgba(186,217,168,0.4);
  box-shadow: 0 8px 32px rgba(0,48,23,0.06);
  transform: translateY(-3px);
}
.flow-step-icon {
  width: 48px; height: 48px;
  border-radius: 12px;
  background: rgba(186,217,168,0.15);
  display: flex; align-items: center; justify-content: center;
  margin: 0 auto 16px;
}
.flow-step-title {
  font-family: var(--font-display);
  font-size: 16px; font-weight: 600;
  color: var(--charcoal);
  letter-spacing: -0.5px;
  margin-bottom: 10px;
}
.flow-step-desc {
  font-size: 16px; line-height: 1.6;
  color: rgba(26,29,27,0.55);
}
.flow-arrow {
  display: flex; align-items: center; justify-content: center;
  padding: 0 8px;
}
.flow-arrow svg {
  color: var(--pistachio);
  opacity: 0.5;
}

/* Sources list */
.flow-sources {
  display: flex; flex-wrap: wrap; gap: 8px;
  justify-content: center;
}
.flow-source-tag {
  padding: 4px 12px;
  background: rgba(186,217,168,0.12);
  border-radius: 6px;
  font-size: 13px; font-weight: 500;
  color: var(--forest); opacity: 0.7;
}

/* Tools list */
.flow-tools {
  display: flex; flex-wrap: wrap; gap: 8px;
  justify-content: center;
}
.flow-tool-tag {
  padding: 4px 12px;
  background: rgba(0,48,23,0.06);
  border-radius: 6px;
  font-size: 13px; font-weight: 500;
  color: var(--forest);
}

/* --- TIERS (Fold 3) --- */
.section-tiers {
  padding: 96px 0;
  background: var(--pistachio-light);
  position: relative; overflow: hidden;
}
.section-tiers::after {
  content: ''; position: absolute; inset: 0; opacity: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
  pointer-events: none;
}
.section-tiers .container { position: relative; z-index: 1; }
.section-tiers .section-label { color: var(--forest); opacity: 0.5; }
.section-tiers .section-title { color: var(--charcoal); }
.section-tiers .section-title em { color: var(--forest); }
.section-tiers .section-sub { color: rgba(26,29,27,0.6); }

.tiers-grid {
  display: grid; grid-template-columns: repeat(3, 1fr);
  gap: 24px;
}
.tier-card {
  background: var(--white);
  border: 1.5px solid rgba(0,48,23,0.08);
  border-radius: 20px;
  padding: 36px 32px;
  transition: all 0.3s ease;
  position: relative;
}
.tier-card:hover {
  border-color: var(--forest);
  transform: translateY(-4px);
  box-shadow: 0 12px 40px rgba(0,48,23,0.12);
}
.tier-card.featured {
  background: var(--white);
  border-color: var(--forest);
  box-shadow: 0 4px 24px rgba(0,48,23,0.1);
}
.tier-step {
  font-family: var(--font-display);
  font-size: 11px; font-weight: 600;
  letter-spacing: 2px; text-transform: uppercase;
  color: var(--forest); opacity: 0.4;
  margin-bottom: 8px;
}
.tier-name {
  font-family: var(--font-display);
  font-size: 24px; font-weight: 600;
  color: var(--charcoal);
  letter-spacing: -1px;
  margin-bottom: 12px;
}
.tier-desc {
  font-size: 16px; line-height: 1.65;
  color: rgba(26,29,27,0.55);
  margin-bottom: 28px;
}
.tier-features {
  list-style: none; padding: 0;
  margin-bottom: 32px;
}
.tier-features li {
  display: flex; align-items: flex-start; gap: 10px;
  font-size: 16px; line-height: 1.6;
  color: rgba(26,29,27,0.65);
  margin-bottom: 12px;
}
.tier-features li svg {
  flex-shrink: 0; margin-top: 3px;
  color: var(--forest); opacity: 0.6;
}
.tier-timeline {
  font-size: 14px; font-weight: 500;
  color: var(--forest); opacity: 0.5;
  letter-spacing: 0.3px;
}

/* Tiers sequential timeline animation */
.tier-timeline {
  position: relative;
  display: inline-block;
}
.tier-timeline::before {
  content: '';
  position: absolute;
  inset: -5px -14px;
  border-radius: 20px;
  background: rgba(0, 48, 23, 0.06);
  opacity: 0;
}
.tier-card:nth-child(1) .tier-timeline { animation: tl-text 7.5s ease infinite; }
.tier-card:nth-child(2) .tier-timeline { animation: tl-text 7.5s ease 2.5s infinite; }
.tier-card:nth-child(3) .tier-timeline { animation: tl-text 7.5s ease 5s infinite; }
.tier-card:nth-child(1) .tier-timeline::before { animation: tl-pill 7.5s ease infinite; }
.tier-card:nth-child(2) .tier-timeline::before { animation: tl-pill 7.5s ease 2.5s infinite; }
.tier-card:nth-child(3) .tier-timeline::before { animation: tl-pill 7.5s ease 5s infinite; }
@keyframes tl-text {
  0%, 3% { opacity: 0.5; transform: scale(1); }
  10% { opacity: 1; transform: scale(1.05); }
  25% { opacity: 1; transform: scale(1.05); }
  33%, 100% { opacity: 0.5; transform: scale(1); }
}
@keyframes tl-pill {
  0%, 3% { opacity: 0; transform: scaleX(0.85); }
  10% { opacity: 1; transform: scaleX(1); }
  25% { opacity: 1; transform: scaleX(1); }
  33% { opacity: 0; transform: scaleX(0.95); }
  100% { opacity: 0; }
}
/* Traveling orb between cards */
.tier-card:not(:last-child)::after {
  content: '';
  position: absolute;
  right: -4px;
  bottom: 40px;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: var(--forest);
  box-shadow: 0 0 8px rgba(0,48,23,0.3), -6px 0 10px rgba(0,48,23,0.12);
  opacity: 0;
}
.tier-card:nth-child(1)::after { animation: tl-orb 7.5s ease infinite; }
.tier-card:nth-child(2)::after { animation: tl-orb 7.5s ease 2.5s infinite; }
@keyframes tl-orb {
  0%, 25% { opacity: 0; right: -4px; }
  29% { opacity: 0.7; right: -4px; }
  36% { opacity: 0.7; right: -20px; }
  40% { opacity: 0; right: -24px; }
  100% { opacity: 0; }
}
/* Tiers header row with CTA */
.tiers-header-row {
  display: flex;
  align-items: flex-end;
  justify-content: space-between;
  gap: 32px;
  margin-bottom: 40px;
}
.tiers-header-row .section-sub { margin-bottom: 0; }
.tiers-cta-btn {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 12px 28px;
  font-size: 15px;
  font-weight: 600;
  color: var(--forest);
  background: transparent;
  border: 1.5px solid rgba(0,48,23,0.2);
  border-radius: 10px;
  cursor: pointer;
  white-space: nowrap;
  transition: all 0.3s ease;
  letter-spacing: -0.2px;
  flex-shrink: 0;
}
.tiers-cta-btn:hover {
  background: var(--forest);
  color: var(--pistachio);
  border-color: var(--forest);
  transform: translateY(-2px);
  box-shadow: 0 8px 24px rgba(0,48,23,0.15);
}
.tiers-cta-btn svg { transition: transform 0.3s ease; }
.tiers-cta-btn:hover svg { transform: translateX(3px); }

/* --- PROOF (Fold 4) --- */
.section-proof {
  padding: 96px 0;
  background: var(--bg-warm);
}
.proof-grid {
  display: grid; grid-template-columns: repeat(3, 1fr);
  gap: 28px;
  margin-bottom: 56px;
  align-items: stretch;
}
.proof-card {
  position: relative;
  background: var(--white);
  border: 1.5px solid rgba(0,48,23,0.06);
  border-radius: 16px;
  padding: 36px 32px;
  transition: all 0.3s ease;
}
.proof-card:not(.proof-card--link) {
  padding: 36px 32px;
}
.proof-card--link {
  padding: 0;
}
.proof-card:hover {
  border-color: rgba(186,217,168,0.3);
  box-shadow: 0 8px 32px rgba(0,48,23,0.06);
}
.proof-client {
  font-family: var(--font-display);
  font-size: 16px; font-weight: 600;
  color: var(--charcoal);
  letter-spacing: -0.5px;
  margin-bottom: 6px;
}
.proof-client-logo {
  height: 36px;
  width: auto;
  object-fit: contain;
  object-position: left center;
  display: block;
}
.proof-client-logo--moco {
  height: 43x;
}
.proof-tag {
  position: absolute;
  top: 12px;
  left: 12px;
  padding: 6px 14px;
  border-radius: 999px;
  background: #E8F5E9;
  color: #1B5E20;
  font-size: 13px;
  font-weight: 600;
}
.proof-industry {
  font-size: 14px; color: rgba(26,29,27,0.4);
  margin-bottom: 24px; letter-spacing: 0.3px;
}
.proof-stat {
  font-family: var(--font-display);
  font-size: 36px; font-weight: 700;
  color: var(--forest);
  letter-spacing: -1.5px;
  margin-bottom: 4px;
}
.proof-stat-label {
  font-size: 15px; line-height: 1.5;
  color: rgba(26,29,27,0.55);
}

.section-trusted {
  background: var(--bg-warm);
  padding: 32px 0;
  border-top: 1px solid rgba(0,48,23,0.06);
  border-bottom: 1px solid rgba(0,48,23,0.06);
}
.trusted-row {
  text-align: center;
}
.trusted-label {
  font-size: 12px; font-weight: 600;
  letter-spacing: 2px; text-transform: uppercase;
  color: var(--charcoal); opacity: 0.3;
  margin-bottom: 20px;
}
.trusted-logos {
  display: flex; align-items: center; justify-content: center;
  gap: 48px; flex-wrap: wrap;
}
.trusted-logo {
  font-family: var(--font-display);
  font-size: 18px; font-weight: 600;
  color: var(--charcoal); opacity: 0.2;
  letter-spacing: -0.5px;
}

.proof-card--link {
  text-decoration: none;
  color: inherit;
  display: flex;
  flex-direction: column;
  padding: 0;
  overflow: hidden;
  cursor: pointer;
}
.proof-card--link:hover {
  border-color: rgba(186,217,168,0.4);
  box-shadow: 0 8px 32px rgba(0,48,23,0.08);
  transform: translateY(-3px);
}
.proof-card--link:hover .proof-read-more {
  color: var(--forest);
  gap: 8px;
}
.proof-card-img {
  width: 100%;
  height: 220px;
  background-size: cover;
  background-position: center;
  flex-shrink: 0;
  border-radius: 14px 14px 0 0;
  overflow: hidden;
}
.proof-card-img--placeholder {
  background-color: rgba(0,48,23,0.05);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 12px;
  border-bottom: 1px solid rgba(0,48,23,0.06);
}
.proof-card-img img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center;
  display: block;
  border-radius: 14px 14px 0 0;
}
.proof-placeholder-label {
  font-size: 11px;
  font-weight: 500;
  letter-spacing: 0.5px;
  color: rgba(0,48,23,0.25);
  text-transform: uppercase;
}
.proof-card-body {
  padding: 28px 28px 24px;
  flex: 1;
  display: flex;
  flex-direction: column;
}
.proof-read-more {
  display: inline-flex;
  align-items: center;
  gap: 5px;
  margin-top: 20px;
  font-size: 13px;
  font-weight: 600;
  color: rgba(0,48,23,0.4);
  letter-spacing: 0.2px;
  transition: all 0.2s ease;
}

.section-cta {
  padding: 96px 0;
  background: var(--forest);
  text-align: center;
  position: relative; overflow: hidden;
}
.section-cta::after {
  content: ''; position: absolute; inset: 0; opacity: 0.03;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
  pointer-events: none;
}
.section-cta .container { position: relative; z-index: 1; }
.cta-title {
  font-family: var(--font-display);
  font-size: clamp(32px, 4vw, 48px);
  font-weight: 600; line-height: 1.1;
  color: var(--offwhite);
  letter-spacing: -2px;
  margin-bottom: 20px;
}
.cta-title em { font-style: italic; color: var(--pistachio); }
.cta-sub {
  font-size: 17px; line-height: 1.65;
  color: rgba(223,220,215,0.55);
  max-width: 500px; margin: 0 auto 40px;
}

/* ================================================================
   PAGE 2: QUALIFICATION FORM
   ================================================================ */
.form-page {
  min-height: 100vh;
  display: flex; align-items: center; justify-content: center;
  background: var(--forest);
  padding: 80px 40px;
  position: relative; overflow: hidden;
}
.form-page::after {
  content: ''; position: absolute; inset: 0; opacity: 0.03;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
  pointer-events: none;
}
.form-card {
  position: relative; z-index: 1;
  background: rgba(0,32,14,0.5);
  border: 1px solid rgba(186,217,168,0.12);
  border-radius: 24px;
  padding: 56px 48px;
  max-width: 540px; width: 100%;
  backdrop-filter: blur(20px);
}
.form-badge {
  display: inline-flex; align-items: center; gap: 8px;
  font-size: 12px; font-weight: 600;
  letter-spacing: 1.5px; text-transform: uppercase;
  color: var(--pistachio); opacity: 0.5;
  margin-bottom: 16px;
}
.form-title {
  font-family: var(--font-display);
  font-size: 28px; font-weight: 600;
  color: var(--offwhite);
  letter-spacing: -1px;
  margin-bottom: 8px;
}
.form-sub {
  font-size: 16px; line-height: 1.65;
  color: rgba(223,220,215,0.5);
  margin-bottom: 36px;
}
.form-group {
  margin-bottom: 20px;
}
.form-label {
  display: block;
  font-size: 14px; font-weight: 600;
  color: rgba(223,220,215,0.6);
  margin-bottom: 8px; letter-spacing: 0.3px;
}
.form-input {
  width: 100%;
  padding: 14px 16px;
  background: rgba(186,217,168,0.06);
  border: 1.5px solid rgba(186,217,168,0.12);
  border-radius: 10px;
  color: var(--offwhite);
  font-family: var(--font-body);
  font-size: 16px;
  transition: all 0.3s ease;
  outline: none;
}
.form-input::placeholder { color: rgba(223,220,215,0.25); }
.form-input:focus {
  border-color: rgba(186,217,168,0.35);
  background: rgba(186,217,168,0.08);
  box-shadow: 0 0 0 3px rgba(186,217,168,0.08);
}
textarea.form-input {
  resize: vertical; min-height: 100px;
}


.form-submit {
  width: 100%;
  padding: 16px;
  background: var(--pistachio); color: var(--forest);
  font-family: var(--font-body);
  font-weight: 600; font-size: 16px;
  border: none; border-radius: 12px;
  cursor: pointer; transition: all 0.3s ease;
  margin-top: 8px;
}
.form-submit:hover {
  background: var(--pistachio-light);
  transform: translateY(-1px);
  box-shadow: 0 8px 24px rgba(186,217,168,0.2);
}

/* Progress indicator */
.form-progress {
  display: flex; align-items: center; gap: 8px;
  margin-bottom: 32px;
}
.form-progress-step {
  width: 40px; height: 3px;
  border-radius: 2px;
  background: rgba(186,217,168,0.15);
}
.form-progress-step.active {
  background: var(--pistachio);
}

/* ================================================================
   PAGE 3: BOOKING CONFIRMATION
   ================================================================ */
.confirm-page {
  min-height: 100vh;
  display: flex; align-items: center; justify-content: center;
  background: var(--forest);
  padding: 80px 40px;
  position: relative; overflow: hidden;
  text-align: center;
}
.confirm-page::after {
  content: ''; position: absolute; inset: 0; opacity: 0.03;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
  pointer-events: none;
}
.confirm-content {
  position: relative; z-index: 1;
  max-width: 560px;
}
.confirm-icon {
  width: 72px; height: 72px;
  border-radius: 50%;
  background: rgba(186,217,168,0.1);
  border: 2px solid rgba(186,217,168,0.2);
  display: flex; align-items: center; justify-content: center;
  margin: 0 auto 28px;
  animation: float 3s ease-in-out infinite;
}
.confirm-title {
  font-family: var(--font-display);
  font-size: 32px; font-weight: 600;
  color: var(--offwhite);
  letter-spacing: -1.5px;
  margin-bottom: 16px;
}
.confirm-sub {
  font-size: 17px; line-height: 1.65;
  color: rgba(223,220,215,0.55);
  margin-bottom: 40px;
}
.confirm-booking-embed {
  background: rgba(186,217,168,0.06);
  border: 1px solid rgba(186,217,168,0.12);
  border-radius: 16px;
  padding: 48px 32px;
  margin-bottom: 32px;
}
.confirm-booking-placeholder {
  font-size: 16px; color: rgba(223,220,215,0.4);
  font-style: italic;
}
.confirm-note {
  font-size: 15px; line-height: 1.6;
  color: rgba(223,220,215,0.35);
}

/* ================================================================
   FOOTER
   ================================================================ */
.footer {
  padding: 32px 40px;
  background: var(--forest-deep);
  border-top: 1px solid rgba(186,217,168,0.06);
}
.footer-inner {
  max-width: var(--max-w); margin: 0 auto;
  display: flex; align-items: center; justify-content: space-between;
}
.footer-left {
  font-size: 14px; color: rgba(223,220,215,0.3);
}
.footer-right {
  font-family: var(--font-display);
  font-size: 14px; font-weight: 500;
  color: rgba(186,217,168,0.3);
}

/* ================================================================
   RESPONSIVE
   ================================================================ */
@media (max-width: 768px) {
  .founders-grid { grid-template-columns: 1fr; }
}
@media (max-width: 768px) {
  .container { padding: 0 24px; }
  .nav { padding: 0 24px; }
  .hero { padding: 100px 0 80px; }
  .hero h1 { font-size: 32px; letter-spacing: -1px; }
  .hero-sub { font-size: 16px; }
  .hero-stat-row { flex-direction: column; gap: 24px; }
  .hero-cta-wrap { flex-direction: column; }
  .flow-diagram {
    grid-template-columns: 1fr;
    gap: 16px;
  }
  .flow-arrow { transform: rotate(90deg); padding: 4px 0; }
  .tiers-grid { grid-template-columns: 1fr; }
  .tier-card:not(:last-child)::after { display: none; }
  .tiers-header-row { flex-direction: column; align-items: flex-start; gap: 20px; }
  .proof-grid { grid-template-columns: 1fr; }
  .form-card { padding: 40px 28px; }
  .section-pipeline { padding: 64px 0 24px; }
  .section-tools { padding: 24px 0 64px; }
  .section-video-demo { padding: 48px 0; }
  .section-mosaic { padding: 48px 0; }
  .section-tiers, .section-proof, .section-cta { padding: 64px 0; }
  .footer-inner { flex-direction: column; gap: 8px; text-align: center; }
}

/* ================================================================
   DIAGRAM SECTIONS
   ================================================================ */
.section-pipeline {
  padding: 96px 0 32px;
  background: var(--bg);
}
.pipeline-hero {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 56px;
  align-items: center;
  margin-bottom: 56px;
  width: 100%;
  max-width: 1140px;
}
.pipeline-hero-text {
  display: flex;
  flex-direction: column;
}
.pipeline-hero-text .section-label { text-align: left; }
.pipeline-hero-text .section-title { text-align: left; }
.pipeline-hero-text .section-sub { text-align: left; margin-bottom: 0; }
.pipeline-hero-cards {
  display: flex;
  flex-direction: column;
  gap: 14px;
}
.pipeline-hero-cards .kg-feature-card {
  background: var(--pistachio);
  border: 1.5px solid rgba(0,48,23,0.12);
  border-radius: 14px;
  padding: 22px 22px 18px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  transition: border-color 0.25s ease, box-shadow 0.25s ease;
  position: relative;
  overflow: hidden;
}
.pipeline-hero-cards .kg-feature-card .card-fuzz-green {
  position: absolute; inset: 0; z-index: 1;
  background: transparent;
  pointer-events: none;
  border-radius: inherit;
}
.pipeline-hero-cards .kg-feature-card .card-fuzz-canvas {
  position: absolute; inset: 0; z-index: 2;
  width: 100%; height: 100%;
  opacity: 0.03;
  pointer-events: none;
  border-radius: inherit;
}
.pipeline-hero-cards .kg-feature-card > *:not(.card-fuzz-green):not(.card-fuzz-canvas) {
  position: relative; z-index: 3;
}
.pipeline-hero-cards .kg-feature-card:hover {
  border-color: rgba(0,48,23,0.2);
  box-shadow: 0 4px 20px rgba(0,48,23,0.08);
}
.pipeline-hero-cards .kg-feature-icon {
  width: 36px; height: 36px; border-radius: 9px;
  background: rgba(186,217,168,0.08); border: 1px solid rgba(186,217,168,0.15);
  display: flex; align-items: center; justify-content: center; flex-shrink: 0;
}
.pipeline-hero-cards .kg-feature-title { font-size: 15px; font-weight: 600; color: var(--forest); }
.pipeline-hero-cards .kg-feature-desc { font-size: 14px; line-height: 1.6; color: rgba(0,48,23,0.7); }
@media (max-width: 900px) {
  .pipeline-hero { grid-template-columns: 1fr; gap: 32px; }
  .pipeline-hero-text .section-label,
  .pipeline-hero-text .section-title,
  .pipeline-hero-text .section-sub { text-align: center; }
}
.section-pipeline .container {
  display: flex;
  flex-direction: column;
  align-items: center;
}

/* "Under the hood" divider label */
.diagram-eyebrow {
  display: flex; align-items: center; gap: 16px;
  width: 100%; margin-bottom: 32px;
}
.diagram-eyebrow-text {
  font-family: var(--font-display);
  font-size: 10px; font-weight: 600;
  letter-spacing: 3px; text-transform: uppercase;
  color: var(--forest); opacity: 0.35;
  white-space: nowrap;
}
.diagram-eyebrow-line {
  flex: 1; height: 1px;
  background: rgba(0,48,23,0.1);
}

/* ---- PIPELINE diagram ---- */
.pipeline {
  width: 100%;
  background: var(--forest-deep);
  border: 1px solid rgba(186,217,168,0.1);
  border-radius: 24px;
  padding: 48px;
  position: relative;
  overflow: hidden;
}
.pipeline::before {
  content: '';
  position: absolute; inset: 0;
  opacity: 0.025;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
  pointer-events: none;
}
.pipeline-grid {
  display: grid;
  grid-template-columns: 260px 1fr 220px;
  align-items: stretch;
  position: relative; z-index: 1;
}
.pipe-sources { display: flex; flex-direction: column; gap: 12px; justify-content: space-evenly; }
.pipe-file {
  display: flex; align-items: center; gap: 14px;
  padding: 14px 16px;
  background: rgba(255,255,255,0.04);
  border: 1px solid rgba(255,255,255,0.07);
  border-radius: 12px;
  transition: border-color 0.3s ease, background 0.3s ease;
  position: relative;
}
.pipe-file:hover { border-color: rgba(186,217,168,0.25); background: rgba(186,217,168,0.04); }
.pipe-file-icon {
  width: 40px; height: 40px; border-radius: 10px;
  display: flex; align-items: center; justify-content: center; flex-shrink: 0;
}
.pipe-file-icon svg { width: 22px; height: 22px; }
.pipe-file-info { flex: 1; min-width: 0; }
.pipe-file-name { font-size: 15px; font-weight: 600; color: var(--offwhite); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.pipe-file-meta { font-size: 13px; color: rgba(223,220,215,0.4); margin-top: 3px; }
.pipe-file-status { width: 6px; height: 6px; border-radius: 50%; background: var(--pistachio); opacity: 0; flex-shrink: 0; }
.pipe-file.ingesting .pipe-file-status { animation: pipe-blink 1.6s ease infinite; }
@keyframes pipe-blink { 0%,100%{opacity:0} 40%,60%{opacity:1} }
.pipe-flow-area {
  position: relative; min-height: 340px;
  display: flex; align-items: center; justify-content: center;
}
.pipe-flow-svg { position: absolute; inset: 0; width: 100%; height: 100%; overflow: visible; }
.pipe-mobile-connector { display: none; }
.pipe-engine {
  background: var(--forest-mid);
  border: 1px solid rgba(186,217,168,0.2);
  border-radius: 16px; padding: 28px 24px;
}
.pipe-engine-label {
  font-family: var(--font-display);
  font-size: 10px; font-weight: 600; letter-spacing: 2.5px; text-transform: uppercase;
  color: var(--pistachio); opacity: 0.6; text-align: center; margin-bottom: 18px;
}
.pipe-engine-steps { display: flex; flex-direction: column; gap: 8px; }
.pipe-step {
  display: flex; align-items: center; gap: 12px;
  padding: 12px 14px; border-radius: 10px;
  background: rgba(0,48,23,0.5);
  border: 1px solid rgba(186,217,168,0.1);
  transition: border-color 0.4s ease, background 0.4s ease;
}
.pipe-step.active { border-color: rgba(186,217,168,0.35); background: rgba(0,48,23,0.85); }
.pipe-step-num {
  width: 24px; height: 24px; border-radius: 50%;
  border: 1.5px solid rgba(186,217,168,0.25);
  display: flex; align-items: center; justify-content: center;
  font-family: var(--font-display); font-size: 10px; font-weight: 700;
  color: var(--pistachio); opacity: 0.55; flex-shrink: 0;
  transition: opacity 0.4s ease, border-color 0.4s ease;
}
.pipe-step.active .pipe-step-num { opacity: 1; border-color: rgba(186,217,168,0.6); }
.pipe-step-text { font-size: 15px; font-weight: 500; color: rgba(223,220,215,0.55); transition: color 0.4s ease; }
.pipe-step.active .pipe-step-text { color: var(--offwhite); font-weight: 600; }
.pipe-right-col { display: flex; flex-direction: column; align-items: stretch; gap: 0; }
.pipe-engine-brain-connector {
  position: relative; height: 72px;
  display: flex; align-items: stretch; justify-content: center;
  overflow: visible;
}
.eb-electric-canvas {
  position: absolute; left: 50%; top: 0;
  transform: translateX(-50%);
  pointer-events: none; z-index: 1;
}
.pipe-brain-panel {
  background: var(--forest-mid);
  border: 1px solid rgba(186,217,168,0.2);
  border-radius: 16px; padding: 20px 24px;
}
.pipe-brain { text-align: center; }
.pipe-brain-visual { width: 72px; height: 72px; margin: 0 auto 10px; }
.pipe-brain-svg { width: 100%; height: 100%; }
.brain-ring-outer { stroke: rgba(186,217,168,0.12); fill: none; stroke-dasharray: 3 4; animation: pipe-rotate 40s linear infinite; transform-origin: 36px 36px; }
.brain-ring-mid { stroke: rgba(186,217,168,0.1); fill: none; stroke-dasharray: 6 3; animation: pipe-rotate 22s linear infinite reverse; transform-origin: 36px 36px; }
@keyframes pipe-rotate { from{transform:rotate(0deg)} to{transform:rotate(360deg)} }
.brain-core { fill: rgba(186,217,168,0.14); stroke: rgba(186,217,168,0.4); stroke-width: 1.5; }
.brain-pulse { fill: rgba(186,217,168,0.7); animation: pipe-brain-pulse 2.4s ease-in-out infinite; transform-origin: 36px 36px; }
@keyframes pipe-brain-pulse { 0%,100%{r:5;opacity:.55} 50%{r:8;opacity:1} }
/* Sonar rings — expand outward and fade */
.brain-sonar-1 { fill: none; stroke: rgba(186,217,168,0.55); stroke-width: 1; transform-origin: 36px 36px; animation: brain-sonar 2.4s ease-out infinite; }
.brain-sonar-2 { fill: none; stroke: rgba(186,217,168,0.35); stroke-width: 0.8; transform-origin: 36px 36px; animation: brain-sonar 2.4s ease-out 0.8s infinite; }
.brain-sonar-3 { fill: none; stroke: rgba(186,217,168,0.2); stroke-width: 0.6; transform-origin: 36px 36px; animation: brain-sonar 2.4s ease-out 1.6s infinite; }
@keyframes brain-sonar {
  0%   { r: 14; opacity: 0.7; }
  100% { r: 34; opacity: 0; }
}
.brain-orbit-1 { fill: rgba(186,217,168,0.35); stroke: rgba(186,217,168,0.55); stroke-width:1; animation: pipe-orbit-1 14s linear infinite; transform-origin:36px 36px; }
.brain-orbit-2 { fill: rgba(140,210,255,0.3); stroke: rgba(140,210,255,0.5); stroke-width:1; animation: pipe-orbit-2 20s linear infinite; transform-origin:36px 36px; }
.brain-orbit-3 { fill: rgba(240,200,80,0.25); stroke: rgba(240,200,80,0.45); stroke-width:1; animation: pipe-orbit-3 10s linear infinite; transform-origin:36px 36px; }
@keyframes pipe-orbit-1 { from{transform:rotate(0deg) translateX(26px) rotate(0deg)} to{transform:rotate(360deg) translateX(26px) rotate(-360deg)} }
@keyframes pipe-orbit-2 { from{transform:rotate(120deg) translateX(20px) rotate(-120deg)} to{transform:rotate(480deg) translateX(20px) rotate(-480deg)} }
@keyframes pipe-orbit-3 { from{transform:rotate(240deg) translateX(30px) rotate(-240deg)} to{transform:rotate(600deg) translateX(30px) rotate(-600deg)} }
/* Brain panel border glow on activation */
@keyframes brain-panel-activate {
  0%   { box-shadow: 0 0 0 0 rgba(186,217,168,0); border-color: rgba(186,217,168,0.2); }
  30%  { box-shadow: 0 0 18px 4px rgba(186,217,168,0.25); border-color: rgba(186,217,168,0.6); }
  100% { box-shadow: 0 0 0 0 rgba(186,217,168,0); border-color: rgba(186,217,168,0.2); }
}
.pipe-brain-panel.activated {
  animation: brain-panel-activate 1s ease-out forwards;
}
.pipe-brain-name { font-family: var(--font-display); font-size: 11px; font-weight: 600; color: var(--pistachio); letter-spacing: -0.3px; }
.pipe-brain-sub { font-size: 10px; color: rgba(223,220,215,0.35); margin-top: 2px; }
.data-packet { width: 5px; height: 5px; border-radius: 50%; background: var(--pistachio); position: absolute; box-shadow: 0 0 6px rgba(186,217,168,0.8); }

/* ---- KNOWLEDGE GRAPH diagram ---- */
.kg-diagram {
  width: 100%;
  background: #ffffff;
  border: 1px solid rgba(0,48,23,0.08);
  border-radius: 24px;
  padding: 48px;
  position: relative; overflow: hidden;
}
.kg-inner {
  position: relative; z-index: 1;
  display: grid; grid-template-columns: 1fr 340px;
  gap: 56px; align-items: center;
}
.kg-canvas-wrap { position: relative; height: 420px; }
.kg-lines-svg { position: absolute; inset: 0; width: 100%; height: 100%; pointer-events: none; }
.kg-node { position: absolute; transform: translate(-50%,-50%); cursor: default; transition: transform 0.3s cubic-bezier(0.16,1,0.3,1); z-index: 2; }
.kg-node:hover { transform: translate(-50%,-50%) scale(1.1); }
.kg-node-inner { display: flex; flex-direction: column; align-items: center; gap: 7px; }
.kg-node-dot { border-radius: 50%; display: flex; align-items: center; justify-content: center; position: relative; }
.kg-node-dot::after { content:''; position:absolute; inset:-5px; border-radius:50%; background:inherit; opacity:0; animation: kg-breathe 3.5s ease infinite; }
@keyframes kg-breathe { 0%,100%{opacity:0;transform:scale(1)} 50%{opacity:0.15;transform:scale(1.5)} }
.kg-node-label { font-family: var(--font-display); font-size: 11px; font-weight: 600; letter-spacing: 0.2px; color: var(--charcoal); text-align: center; white-space: nowrap; }
.kg-node-sub { font-size: 9px; color: rgba(0,48,23,0.4); text-align: center; margin-top: -5px; white-space: nowrap; }
.kg-node-center .kg-node-dot { width:68px; height:68px; background:var(--forest); border:2px solid rgba(0,48,23,0.5); box-shadow:0 4px 24px rgba(0,48,23,0.2); }
.kg-node-center .kg-node-label { font-size:12px; color: var(--pistachio); }
.kg-node-topic .kg-node-dot { width:48px; height:48px; background:var(--forest); border:1.5px solid rgba(0,48,23,0.4); box-shadow:0 2px 12px rgba(0,48,23,0.15); }
.kg-node-topic .kg-node-label { color: var(--charcoal); }
.kg-node-source .kg-node-dot { width:32px; height:32px; border:1.5px solid; }
.kg-node-source .kg-node-label { font-size:10px; color:rgba(26,29,27,0.7); }
.kg-panel { display: flex; flex-direction: column; }
.kg-panel-eyebrow { font-size: 12px; font-weight: 600; letter-spacing: 2px; text-transform: uppercase; color: var(--forest); opacity: 0.5; margin-bottom: 14px; }
.kg-panel-heading { font-family: var(--font-display); font-size: clamp(20px,2.2vw,26px); font-weight: 600; letter-spacing: -1px; line-height: 1.2; color: var(--charcoal); margin-bottom: 14px; }
.kg-panel-heading em { font-style: italic; color: var(--forest); }
.kg-panel-sub { font-size: 16px; line-height: 1.7; color: rgba(26,29,27,0.5); margin-bottom: 28px; }
.kg-features { display: flex; flex-direction: column; gap: 14px; }
.kg-feature { display: flex; gap: 12px; align-items: flex-start; }
.kg-feature-icon { width:34px; height:34px; border-radius:9px; background:rgba(0,48,23,0.06); border:1px solid rgba(0,48,23,0.1); display:flex; align-items:center; justify-content:center; flex-shrink:0; }
.kg-feature-title { font-size: 15px; font-weight: 600; color: var(--charcoal); margin-bottom: 4px; }
.kg-feature-desc { font-size: 14px; line-height: 1.6; color: rgba(26,29,27,0.5); }
.kg-answer-card { margin-top: 24px; background: white; border: 1px solid rgba(0,48,23,0.1); border-radius: 14px; padding: 18px 20px; box-shadow: 0 2px 16px rgba(0,48,23,0.06); }
.kg-answer-q { font-size: 13px; font-weight: 600; color: rgba(26,29,27,0.6); margin-bottom: 8px; }
.kg-answer-q::before { content:'"'; color:var(--forest); opacity:0.5; margin-right:2px; }
.kg-answer-a { font-size: 15px; line-height: 1.6; color: var(--charcoal); }
.kg-answer-source { display:inline-flex; align-items:center; gap:5px; margin-top:10px; padding:4px 10px; background:rgba(0,48,23,0.06); border:1px solid rgba(0,48,23,0.1); border-radius:6px; font-size:10px; font-weight:600; color:var(--forest); letter-spacing:0.2px; }

/* ================================================================
   TOOLS GRID
   ================================================================ */
.section-tools {
  padding: 32px 0 96px;
  background: var(--bg);
}
/* Tools showcase — interface cards */
.tools-showcase {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 24px;
}
.tools-more {
  width: fit-content;
  margin: 40px auto 0;
  padding: 14px 28px;
  background: rgba(186,217,168,0.2); /* Soft pistachio */
  border: 1px solid rgba(186,217,168,0.4);
  border-radius: 999px;
  font-size: 16px;
  font-weight: 600;
  color: var(--forest);
  text-align: center;
}
.interface-card {
  background: var(--white);
  border: 1.5px solid rgba(0,48,23,0.1);
  border-radius: 20px;
  overflow: hidden;
  box-shadow: 0 8px 40px rgba(0,48,23,0.05);
  display: flex;
  flex-direction: column;
  transition: box-shadow 0.3s ease, transform 0.3s ease;
}
.interface-card:hover {
  box-shadow: 0 12px 48px rgba(0,48,23,0.1);
  transform: translateY(-3px);
}
.interface-bar {
  display: flex; align-items: center; gap: 10px;
  padding: 11px 16px;
  background: var(--bg-warm);
  border-bottom: 1.5px solid rgba(0,48,23,0.08);
}
.interface-dots { display: flex; gap: 5px; }
.interface-dots span {
  width: 8px; height: 8px; border-radius: 50%;
  background: rgba(0,48,23,0.12); display: block;
}
.interface-bar-title {
  font-size: 11px; font-weight: 600;
  color: rgba(26,29,27,0.45);
  letter-spacing: 0.3px;
  display: flex; align-items: center; gap: 5px;
}
.interface-body {
  padding: 18px 16px;
  flex: 0 0 265px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  overflow: hidden;
}
.interface-body .aibrain-q {
  font-size: 13px; padding: 10px 14px;
}
.interface-body .aibrain-a-avatar {
  width: 24px; height: 24px;
}
.interface-body .aibrain-a {
  padding: 12px 14px;
  min-width: 0;
  overflow: hidden;
}
.interface-body .aibrain-a-text {
  font-size: 13px; margin-bottom: 10px;
}
.interface-body .aibrain-source-tag {
  font-size: 11px; padding: 3px 8px;
}
.interface-footer {
  padding: 14px 16px;
  border-top: 1px solid rgba(0,48,23,0.06);
  display: flex; flex-direction: column; gap: 6px;
}
.interface-tag {
  display: inline-flex;
  padding: 3px 10px;
  background: rgba(186,217,168,0.2);
  border: 1px solid rgba(0,48,23,0.08);
  border-radius: 6px;
  font-size: 11px; font-weight: 700;
  color: var(--forest);
  letter-spacing: 0.3px;
  align-self: flex-start;
}
.interface-desc {
  font-size: 13px;
  color: rgba(26,29,27,0.5);
  line-height: 1.5;
}

/* Email client interface */
/* Email automation — Gmail-inspired interface */
.ea-body-wrap { padding: 0 !important; background: #fff; }
.ea-client { display: flex; flex-direction: column; height: 100%; }
.ea-gm-bar {
  display: flex; align-items: center; justify-content: space-between;
  padding: 4px 8px; border-bottom: 1px solid #e8eaed; background: #fff;
  opacity: 0;
  transition: opacity 0.3s ease;
}
.ea-gm-bar.ea-gm-bar--show { opacity: 1; }
.ea-gm-bar-l, .ea-gm-bar-r { display: flex; align-items: center; gap: 1px; }
.ea-gm-ico {
  display: inline-flex; align-items: center; justify-content: center;
  width: 24px; height: 24px; border-radius: 50%; color: #5f6368;
}
.ea-gm-sep { width: 1px; height: 16px; background: #dadce0; margin: 0 4px; }
.ea-gm-pager { font-size: 9px; color: #5f6368; margin-right: 4px; }
.ea-viewport { position: relative; flex: 1; overflow: hidden; }
.ea-phase {
  position: absolute; top: 0; left: 0; right: 0; bottom: 0;
  opacity: 0; transform: translateY(8px);
  transition: opacity 0.4s ease, transform 0.4s ease;
  pointer-events: none;
}
.ea-phase.ea-active { opacity: 1; transform: translateY(0); pointer-events: auto; }
.ea-phase.ea-exit-up {
  opacity: 0; transform: translateY(-12px);
  transition: opacity 0.3s ease, transform 0.3s ease;
}
/* Inbox tabs */
.ea-gm-tabs { display: flex; border-bottom: 1px solid #e8eaed; }
.ea-gm-tab {
  padding: 8px 14px; font-size: 10px; font-weight: 600;
  color: #5f6368; border-bottom: 2px solid transparent;
}
.ea-gm-tab--active { color: #1a73e8; border-bottom-color: #1a73e8; }
/* Inbox rows */
.ea-gm-row {
  display: flex; align-items: center; gap: 4px;
  padding: 7px 8px; border-bottom: 1px solid #f1f3f4;
  transition: background 0.3s ease;
}
.ea-gm-row--unread .ea-gm-row-sender { font-weight: 700; color: #202124; }
.ea-gm-row--unread .ea-gm-row-subj { font-weight: 600; color: #202124; }
.ea-gm-row--unread .ea-gm-row-date { font-weight: 600; }
.ea-gm-row--read { background: rgba(242,245,250,0.6); }
.ea-gm-row--read .ea-gm-row-sender { color: #5f6368; }
.ea-gm-row.ea-row-hl { background: #c2dbff; }
.ea-gm-row-chk, .ea-gm-row-star { display: flex; align-items: center; color: #c4c7cc; flex-shrink: 0; }
.ea-gm-row-content {
  flex: 1; min-width: 0; display: flex; align-items: baseline; gap: 3px;
  overflow: hidden; white-space: nowrap;
}
.ea-gm-row-sender { font-size: 10.5px; color: #202124; flex-shrink: 0; min-width: 72px; max-width: 90px; overflow: hidden; text-overflow: ellipsis; }
.ea-gm-row-subj { font-size: 10.5px; color: #5f6368; flex-shrink: 0; }
.ea-gm-row-preview { font-size: 10.5px; color: #969aa1; overflow: hidden; text-overflow: ellipsis; }
.ea-gm-row-date { font-size: 9px; color: #5f6368; white-space: nowrap; flex-shrink: 0; }
/* Email detail */
.ea-gm-detail { padding: 10px 14px; }
.ea-gm-subject-row { display: flex; align-items: center; gap: 6px; margin-bottom: 10px; }
.ea-gm-subject { font-size: 14px; font-weight: 400; color: #202124; line-height: 1.3; }
.ea-gm-inbox-lbl {
  font-size: 8px; font-weight: 600; padding: 1px 5px;
  background: #e8eaed; border-radius: 3px; color: #5f6368; white-space: nowrap;
}
.ea-gm-sender-row { display: flex; align-items: flex-start; gap: 8px; margin-bottom: 12px; }
.ea-gm-avatar {
  width: 28px; height: 28px; min-width: 28px; border-radius: 50%;
  background: #1a73e8; color: #fff;
  font-size: 13px; font-weight: 500;
  display: flex; align-items: center; justify-content: center; flex-shrink: 0;
}
.ea-gm-sender-info { flex: 1; min-width: 0; }
.ea-gm-sender-name { font-size: 10.5px; color: #202124; font-weight: 600; line-height: 1.3; }
.ea-gm-sender-addr { font-weight: 400; color: #5f6368; font-size: 9px; }
.ea-gm-to { font-size: 9px; color: #5f6368; margin-top: 1px; }
.ea-gm-date-detail { font-size: 9px; color: #5f6368; white-space: nowrap; flex-shrink: 0; margin-top: 2px; }
.ea-gm-email-body { font-size: 11.5px; color: #3c4043; line-height: 1.6; padding-left: 36px; white-space: pre-line; }
/* Reply compose */
.ea-gm-compose { padding: 10px 14px; }
.ea-gm-reply-box { border: 1px solid #dadce0; border-radius: 8px; overflow: hidden; }
.ea-gm-reply-head { padding: 8px 12px 4px; }
.ea-ai-badge {
  display: inline-flex; align-items: center; gap: 5px;
  padding: 3px 10px; background: rgba(186,217,168,0.15);
  border: 1px solid rgba(186,217,168,0.3); border-radius: 6px;
  font-size: 10px; font-weight: 700; color: var(--forest);
}
.ea-gm-reply-body {
  padding: 8px 12px; font-size: 11.5px; color: #3c4043;
  line-height: 1.55; min-height: 80px; white-space: pre-line;
}
.ea-gm-reply-foot {
  display: flex; align-items: center; gap: 6px; padding: 6px 12px 8px;
}
.ea-gm-send {
  padding: 5px 18px; background: #1a73e8; color: #fff;
  border: none; border-radius: 4px;
  font-size: 10px; font-weight: 600; font-family: inherit;
  opacity: 0.35; transition: opacity 0.3s ease, transform 0.12s ease, background 0.25s ease;
}
.ea-gm-send.ea-ready { opacity: 1; }
.ea-gm-send.ea-pressed { opacity: 1; transform: scale(0.92); }
.ea-gm-send.ea-sent { opacity: 1; background: #188038; }
.ea-gm-tool-ico {
  display: inline-flex; align-items: center; justify-content: center;
  width: 22px; height: 22px; border-radius: 50%; color: #5f6368;
}
.ea-cursor {
  display: inline-block; width: 1.5px; height: 13px;
  background: #1a73e8; margin-left: 1px;
  vertical-align: text-bottom;
  animation: eaCursorBlink 0.6s ease infinite;
}
@keyframes eaCursorBlink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }
.ea-phase--sent { display: flex; align-items: center; justify-content: center; }
.ea-sent-badge {
  display: inline-flex; align-items: center; gap: 8px;
  padding: 10px 16px; background: rgba(186,217,168,0.2);
  border: 1px solid rgba(186,217,168,0.4); border-radius: 10px;
  font-size: 12px; font-weight: 600; color: var(--forest);
}
.ea-ellipsis { display: inline; letter-spacing: 0.5px; }
.ea-ellipsis span { opacity: 0; animation: eaEllipsis 1.4s ease-in-out infinite; }
.ea-ellipsis span:nth-child(2) { animation-delay: 0.2s; }
.ea-ellipsis span:nth-child(3) { animation-delay: 0.4s; }
@keyframes eaEllipsis { 0%, 60%, 100% { opacity: 0; } 30% { opacity: 1; } }

/* Animated chat card viewports */
.icard-chat-wrap {
  padding: 0 !important;
  overflow: hidden;
  position: relative;
}
.icard-thinking {
  display: inline-flex; gap: 4px; padding: 2px 0;
}
.icard-thinking span {
  width: 5px; height: 5px; border-radius: 50%;
  background: rgba(0,48,23,0.25);
  animation: icardThink 1.2s ease-in-out infinite;
}
.icard-thinking span:nth-child(2) { animation-delay: 0.15s; }
.icard-thinking span:nth-child(3) { animation-delay: 0.3s; }
@keyframes icardThink {
  0%, 80%, 100% { opacity: 0.3; transform: scale(0.85); }
  40% { opacity: 1; transform: scale(1.15); }
}

/* Shopping chatbot — product carousel */
.shop-carousel {
  display: flex; gap: 6px;
  overflow-x: auto;
  padding-bottom: 2px;
  margin-top: 4px;
  scrollbar-width: none;
}
.shop-carousel::-webkit-scrollbar { display: none; }
.shop-product {
  flex: 1 1 0;
  min-width: 0;
  background: var(--white);
  border: 1px solid rgba(0,48,23,0.08);
  border-radius: 8px;
  padding: 6px;
  display: flex; flex-direction: column; gap: 3px;
  transition: border-color 0.2s ease;
}
.shop-product:hover {
  border-color: rgba(186,217,168,0.5);
}
.shop-product-img {
  width: 100%; aspect-ratio: 3/2;
  background: linear-gradient(135deg, rgba(186,217,168,0.12), rgba(0,48,23,0.04));
  border-radius: 6px;
  border: 1px dashed rgba(0,48,23,0.08);
}
.shop-product-name {
  font-size: 10px; font-weight: 600;
  color: var(--charcoal); line-height: 1.2;
  white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}
.shop-product-price {
  font-size: 11px; font-weight: 700;
  color: var(--forest);
}
.shop-product-link {
  font-size: 9px; font-weight: 600;
  color: var(--forest); opacity: 0.5;
  cursor: pointer;
  transition: opacity 0.2s ease;
}
.shop-product-link:hover { opacity: 1; }

/* Bottom row — workflow + API */
.tools-bottom-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 24px;
  margin-top: 24px;
}
.tools-bottom-card {
  background: var(--white);
  border: 1.5px solid rgba(0,48,23,0.1);
  border-radius: 20px;
  overflow: hidden;
  box-shadow: 0 6px 30px rgba(0,48,23,0.04);
  transition: box-shadow 0.3s ease, transform 0.3s ease;
}
.tools-bottom-card:hover {
  box-shadow: 0 10px 40px rgba(0,48,23,0.08);
  transform: translateY(-2px);
}
.tools-bottom-header {
  display: flex; align-items: center;
  justify-content: space-between;
  padding: 12px 18px;
  background: var(--bg-warm);
  border-bottom: 1.5px solid rgba(0,48,23,0.08);
}
.tools-bottom-header-left {
  display: flex; align-items: center; gap: 10px;
}
.tools-bottom-desc {
  padding: 0 18px 16px;
  font-size: 13px;
  color: rgba(26,29,27,0.5);
  line-height: 1.5;
}

/* n8n workflow nodes */
.n8n-canvas {
  padding: 28px 16px 12px;
  display: flex; align-items: center; justify-content: center;
}
.n8n-flow {
  display: flex; align-items: flex-start;
}
.n8n-node {
  display: flex; flex-direction: column;
  align-items: center; gap: 8px; z-index: 1;
}
.n8n-node-box {
  width: 52px; height: 52px;
  border-radius: 14px;
  display: flex; align-items: center; justify-content: center;
  background: var(--white);
  border: 1.5px solid rgba(0,48,23,0.12);
  box-shadow: 0 2px 8px rgba(0,48,23,0.06);
}
.n8n-node-box--trigger {
  border-color: rgba(186,217,168,0.5);
  background: rgba(186,217,168,0.08);
}
.n8n-node-box--brain {
  background: var(--forest);
  border-color: var(--forest);
}
.n8n-node-box--action {
  border-color: rgba(0,48,23,0.2);
}
.n8n-node-label {
  font-size: 10px; font-weight: 600;
  color: rgba(26,29,27,0.5);
  text-align: center;
  max-width: 64px; line-height: 1.3;
}
.n8n-connector {
  width: 36px; height: 2px;
  background: rgba(0,48,23,0.15);
  position: relative;
  margin-top: 25px;
}
.n8n-connector::after {
  content: '';
  position: absolute;
  right: -3px; top: -3px;
  border-left: 5px solid rgba(0,48,23,0.25);
  border-top: 4px solid transparent;
  border-bottom: 4px solid transparent;
}

/* API connection graphic */
.api-canvas {
  padding: 28px 16px 12px;
  display: flex; align-items: center; justify-content: center;
}
.api-flow {
  display: flex; align-items: flex-start;
}
.api-node {
  display: flex; flex-direction: column;
  align-items: center; gap: 8px; z-index: 1;
}
.api-node-box {
  width: 52px; height: 52px;
  border-radius: 14px;
  display: flex; align-items: center; justify-content: center;
  background: var(--white);
  border: 1.5px solid rgba(0,48,23,0.12);
  box-shadow: 0 2px 8px rgba(0,48,23,0.06);
}
.api-node-box--code {
  background: #1a1d1b;
  border-color: #1a1d1b;
}
.api-node-box--brain {
  background: var(--forest);
  border-color: var(--forest);
}
.api-node-box--gpt {
  background: #10a37f;
  border-color: #10a37f;
}
.api-node-label {
  font-size: 10px; font-weight: 600;
  color: rgba(26,29,27,0.5);
  text-align: center;
  max-width: 64px; line-height: 1.3;
}
.api-connector {
  display: flex; flex-direction: column;
  align-items: center; gap: 2px;
  margin-top: 15px;
}
.api-connector-line {
  width: 40px; height: 2px;
  background: rgba(0,48,23,0.15);
  position: relative;
}
.api-connector-line::after {
  content: '';
  position: absolute;
  right: -3px; top: -3px;
  border-left: 5px solid rgba(0,48,23,0.25);
  border-top: 4px solid transparent;
  border-bottom: 4px solid transparent;
}
.api-connector-line--bidi::before {
  content: '';
  position: absolute;
  left: -3px; top: -3px;
  border-right: 5px solid rgba(0,48,23,0.25);
  border-top: 4px solid transparent;
  border-bottom: 4px solid transparent;
}
.api-connector-label {
  font-size: 9px;
  color: rgba(26,29,27,0.35);
  font-weight: 600;
  letter-spacing: 0.3px;
  margin-top: 2px;
}

@media (max-width: 900px) {
  .tools-showcase { grid-template-columns: 1fr; }
  .tools-bottom-row { grid-template-columns: 1fr; }
}

/* ----------------------------------------------------------------
   RESULT SECTION — redesigned
   ---------------------------------------------------------------- */
.section-kg-inner {
  max-width: 680px;
}
.kg-feature-cards {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 16px;
  margin-top: 36px;
}
.kg-feature-card {
  background: var(--white);
  border: 1.5px solid rgba(0,48,23,0.07);
  border-radius: 14px;
  padding: 20px 20px 18px;
  display: flex;
  flex-direction: column;
  gap: 10px;
  transition: border-color 0.25s ease, box-shadow 0.25s ease;
}
.kg-feature-card:hover {
  border-color: rgba(186,217,168,0.4);
  box-shadow: 0 4px 20px rgba(0,48,23,0.05);
}
@media (max-width: 768px) {
  .kg-feature-cards { grid-template-columns: 1fr; }
}

/* ----------------------------------------------------------------
   TOOLS SECTION — kept for reference, demo panel removed
   ---------------------------------------------------------------- */

/* Demo use-case tag label */
.aibrain-tag-label {
  align-self: flex-start;
  padding: 3px 10px;
  background: rgba(186,217,168,0.2);
  border: 1px solid rgba(0,48,23,0.1);
  border-radius: 6px;
  font-size: 11px; font-weight: 700;
  letter-spacing: 0.8px; text-transform: uppercase;
  color: var(--forest);
  margin-bottom: 4px;
}


.aibrain-demo-wrap {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 64px;
  align-items: start;
}
.aibrain-chrome {
  background: var(--white);
  border: 1.5px solid rgba(0,48,23,0.1);
  border-radius: 16px;
  overflow: hidden;
  box-shadow: 0 8px 40px rgba(0,48,23,0.07);
}
.aibrain-chrome-bar {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 14px 20px;
  background: var(--bg-warm);
  border-bottom: 1px solid rgba(0,48,23,0.07);
}
.aibrain-chrome-dots {
  display: flex; gap: 6px;
}
.aibrain-chrome-dots span {
  width: 10px; height: 10px; border-radius: 50%;
  background: rgba(0,48,23,0.12);
}
.aibrain-chrome-title {
  display: flex; align-items: center; gap: 6px;
  font-size: 13px; font-weight: 600;
  color: var(--forest); opacity: 0.5;
  letter-spacing: 0.3px;
}
.aibrain-messages {
  padding: 28px 24px 8px;
  display: flex;
  flex-direction: column;
  gap: 24px;
}
.aibrain-exchange {
  display: flex;
  flex-direction: column;
  gap: 14px;
  transition: opacity 0.4s ease;
}
.aibrain-exchange--hidden {
  display: none;
}
.aibrain-q {
  align-self: flex-end;
  background: rgba(0,48,23,0.06);
  border-radius: 12px 12px 2px 12px;
  padding: 12px 16px;
  font-size: 14px; font-weight: 500;
  color: var(--charcoal);
  max-width: 85%;
  line-height: 1.5;
}
.aibrain-a-wrap {
  display: flex;
  gap: 10px;
  align-items: flex-start;
}
.aibrain-a-avatar {
  width: 28px; height: 28px;
  border-radius: 50%;
  background: var(--forest);
  display: flex; align-items: center; justify-content: center;
  flex-shrink: 0; margin-top: 2px;
}
.aibrain-a {
  background: var(--bg);
  border: 1px solid rgba(0,48,23,0.08);
  border-radius: 2px 12px 12px 12px;
  padding: 14px 16px;
  flex: 1;
}
.aibrain-a-text {
  font-size: 14px; line-height: 1.6;
  color: var(--charcoal);
  margin-bottom: 12px;
}
.aibrain-a-text strong {
  color: var(--forest); font-weight: 600;
}
.aibrain-sources {
  display: flex; flex-wrap: wrap; gap: 6px;
}
.aibrain-source-tag {
  display: inline-flex; align-items: center; gap: 4px;
  padding: 4px 10px;
  background: rgba(186,217,168,0.2);
  border: 1px solid rgba(0,48,23,0.1);
  border-radius: 6px;
  font-size: 12px; font-weight: 500;
  color: var(--forest);
}
.aibrain-suggestions {
  padding: 16px 24px 24px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  border-top: 1px solid rgba(0,48,23,0.06);
  margin-top: 8px;
}
.aibrain-suggestion {
  padding: 10px 14px;
  background: var(--bg-warm);
  border: 1px solid rgba(0,48,23,0.08);
  border-radius: 8px;
  font-size: 13px; color: rgba(26,29,27,0.6);
  cursor: pointer;
  transition: all 0.2s ease;
  line-height: 1.4;
}
.aibrain-suggestion:hover {
  border-color: rgba(0,48,23,0.2);
  color: var(--charcoal);
  background: rgba(186,217,168,0.08);
}
.aibrain-demo-right {
  padding-top: 8px;
}
@media (max-width: 768px) {
  .aibrain-demo-wrap { grid-template-columns: 1fr; gap: 40px; }
}

/* Cursor blink for typing effect */
@keyframes blink { 0%,100%{opacity:1} 50%{opacity:0} }
.aibrain-cursor { display: inline-block; width: 2px; height: 14px; background: var(--forest); margin-left: 2px; animation: blink 1s step-end infinite; vertical-align: middle; }

@media (max-width: 768px) {
  .pipeline { padding: 28px 20px; }
  .pipeline-grid { grid-template-columns: 1fr; }
  .pipe-sources { flex-direction: column; gap: 10px; }
  .pipe-file { padding: 14px 16px; }
  .pipe-file-icon { width:44px; height:44px; }
  .pipe-file-icon svg { width:24px; height:24px; }
  .pipe-file-name { font-size:14px; }
  .pipe-file-meta { font-size:12px; margin-top:4px; }
  .pipe-flow-area { min-height: 80px; height: 80px; }
  .pipe-flow-svg { display: none; }
  .pipe-mobile-connector { display:flex !important; flex-direction:column; align-items:center; height:80px; position:relative; }
  .pipe-engine { width: 100%; }
  .pipe-engine-steps { display:grid; grid-template-columns:1fr 1fr; gap:8px; }
  .pipe-step { padding:12px 14px; }
  .pipe-step-num { width:24px; height:24px; font-size:10px; }
  .pipe-step-text { font-size:13px; }
  .pipe-right-col { width: 100%; }
  .pipe-engine-brain-connector { height: 40px; }
  .eb-electric-canvas { display: none; }
  .pipe-brain-panel { width: 100%; }
  .pipe-brain { display:flex; align-items:center; gap:16px; text-align:left; padding-top:4px; }
  .pipe-brain-visual { width:52px; height:52px; margin:0; flex-shrink:0; }
}

/* ================================================================
   LOGO CAROUSEL (Trusted By)
   ================================================================ */
.trusted-track-wrap {
  overflow: hidden;
  width: 100%;
  mask-image: linear-gradient(to right, transparent 0%, black 8%, black 92%, transparent 100%);
  -webkit-mask-image: linear-gradient(to right, transparent 0%, black 8%, black 92%, transparent 100%);
}
.trusted-track {
  display: flex;
  align-items: center;
  width: max-content;
  will-change: transform;
}
.trusted-track-set {
  display: flex;
  align-items: center;
  gap: 48px;
  flex-shrink: 0;
  padding-right: 48px; /* keeps spacing consistent at the loop seam */
}
.trusted-logo-placeholder {
  max-height: 40px;
  max-width: 130px;
  width: auto;
  height: auto;
  flex-shrink: 0;
  object-fit: contain;
  opacity: 0.75;
}

/* ================================================================
   HEADER LOGO PLACEHOLDER
   ================================================================ */
.nav-logo-placeholder {
  width: 32px;
  height: 32px;
  border: 1.5px dashed rgba(186,217,168,0.35);
  border-radius: 6px;
  background: rgba(186,217,168,0.06);
  flex-shrink: 0;
}

/* ================================================================
   FOOTER LOGO PLACEHOLDER
   ================================================================ */
.footer-logo-placeholder {
  height: 26px;
  width: auto;
  object-fit: contain;
}

/* ================================================================
   VIDEO DEMO SECTION
   ================================================================ */
.section-video-demo {
  padding: 72px 0;
  background: var(--bg-warm);
  border-top: 1px solid rgba(0,48,23,0.06);
  border-bottom: 1px solid rgba(0,48,23,0.06);
}
.section-video-demo .container {
  max-width: 820px;
}
.video-demo-embed {
  border-radius: 16px;
  overflow: hidden;
  box-shadow: 0 8px 40px rgba(0,48,23,0.08);
  border: 1.5px solid rgba(0,48,23,0.1);
}

/* ================================================================
   SOCIAL PROOF SECTION (engineering-led)
   ================================================================ */
.section-mosaic {
  padding: 80px 0;
  background: var(--forest);
  position: relative; overflow: hidden;
}
.section-mosaic::after {
  content: ''; position: absolute; inset: 0; opacity: 0.03;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
  pointer-events: none;
}
.section-mosaic .container { position: relative; z-index: 1; }
.mosaic-layout {
  display: flex;
  align-items: stretch;
  gap: 56px;
}
.mosaic-photo {
  flex-shrink: 0;
  width: 420px;
  border-radius: 12px;
  overflow: hidden;
}
.mosaic-photo img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}
.mosaic-text {
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
}
.mosaic-text h2 {
  font-family: var(--font-display);
  font-size: 28px;
  font-weight: 700;
  letter-spacing: -0.5px;
  color: var(--offwhite);
  margin: 0 0 12px;
}
.mosaic-text > p {
  font-size: 15px;
  line-height: 1.7;
  color: rgba(223,220,215,0.55);
  max-width: 460px;
  margin: 0 0 32px;
}
.usp-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;
}
.usp-item {
  padding: 20px 22px;
  border-radius: 10px;
  background: rgba(186,217,168,0.06);
  border: 1px solid rgba(186,217,168,0.08);
  transition: background 0.25s var(--ease), border-color 0.25s var(--ease);
}
.usp-item:hover {
  background: rgba(186,217,168,0.1);
  border-color: rgba(186,217,168,0.16);
}
.usp-icon {
  width: 36px;
  height: 36px;
  border-radius: 8px;
  background: rgba(186,217,168,0.1);
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 12px;
  color: var(--pistachio);
}
.usp-icon svg { width: 18px; height: 18px; }
.usp-item h3 {
  font-family: var(--font-body);
  font-size: 14px;
  font-weight: 600;
  color: var(--offwhite);
  margin: 0 0 4px;
}
.usp-item p {
  font-size: 13px;
  line-height: 1.55;
  color: rgba(223,220,215,0.45);
  margin: 0;
}
@media (max-width: 768px) {
  .mosaic-layout { flex-direction: column; gap: 36px; }
  .mosaic-photo { width: 100%; max-height: 280px; }
  .usp-grid { grid-template-columns: 1fr; }
}
</style>
</head>
<body>

<!-- ================================================================
     NAV
     ================================================================ -->
<nav class="nav at-top" id="mainNav">
  <div class="nav-inner">
    <a href="#" class="nav-brand" onclick="showPage('product')" style="gap: 0;">
      <div class="nav-brand-wordmark" style="gap: 2px;">
        <span class="nav-brand-name" style="font-size: 22px;">Step Zero</span>
        <div style="display: flex; align-items: center; gap: 6px;">
          <span class="nav-brand-sub" style="font-size: 11px;">BY</span>
          <img src="assets/logos/valae_logo.png" alt="Valae Logo" style="height: 16px; transform: translateY(-2px);">
        </div>
      </div>
    </a>
    <button class="nav-cta" onclick="showPage('form')">
      Book a demo
      <svg width="14" height="14" viewBox="0 0 16 16" fill="none"><path d="M3 8h10M9 4l4 4-4 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
    </button>
  </div>
</nav>

<!-- ================================================================
     PAGE 1: PRODUCT PAGE
     ================================================================ -->
<div class="page active" id="page-product">

  <!-- FOLD 1: HERO -->
  <section class="hero">
    <div class="hero-video-bg">
      <video autoplay muted loop playsinline>
        <source src="bg-video.mp4" type="video/mp4">
      </video>
    </div>
    <div class="hero-overlay"></div>
    <canvas class="hero-static-canvas" id="heroStatic"></canvas>
    <div class="hero-content">
<h1 class="fade-up fade-up-d1">Your AI doesn't work because your <em>knowledge</em> is scattered</h1>
      <p class="hero-sub fade-up fade-up-d2">Step Zero organises your messy docs, spreadsheets, emails and more into an AI-ready foundation, then builds tools for fast ROI.</p>
      <div class="hero-cta-wrap fade-up fade-up-d3">
        <button class="btn-primary" onclick="showPage('form')">
          Book a demo
          <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M3 8h10M9 4l4 4-4 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
        </button>
        <a href="#how-it-works" class="btn-ghost">See how it works</a>
      </div>
    </div>
  </section>

  <!-- TRUSTED BY -->
  <section class="section-trusted">
    <div class="trusted-row">
      <div class="trusted-label">Our team has supported</div>
      <div class="trusted-track-wrap">
        <div class="trusted-track">
          <div class="trusted-track-set">
            <img class="trusted-logo-placeholder" src="assets/logos/bugaboo_logo.png" alt="Bugaboo Logo">
            <img class="trusted-logo-placeholder" src="assets/logos/ikea_logo.png" alt="IKEA Logo">
            <img class="trusted-logo-placeholder" src="assets/logos/mocomuseum_logo.png" alt="Moco Museum Logo" style="max-height:56px">
            <img class="trusted-logo-placeholder" src="assets/logos/shell_logo.png" alt="Shell Logo" style="max-height:56px">
            <img class="trusted-logo-placeholder" src="assets/logos/loreal_logo.png" alt="L'Oréal Logo">
            <img class="trusted-logo-placeholder" src="assets/logos/vcc_logo.png" alt="Vibe Coding Collective Logo">
            <img class="trusted-logo-placeholder" src="assets/logos/mango_logo.png" alt="Mango Mobility Logo" style="max-height:56px">
            <img class="trusted-logo-placeholder" src="assets/logos/spinn_logo.png" alt="Spinn Logo">
            <img class="trusted-logo-placeholder" src="assets/logos/tudelft_logo.png" alt="TU Delft Logo">
          </div>
      </div>
    </div>
  </section>

  <!-- FOLD 2: PIPELINE -->
  <section class="section-pipeline" id="how-it-works">
    <div class="container">
      <div class="pipeline-hero">
        <div class="pipeline-hero-text">
          <div class="section-label">How it works</div>
          <h2 class="section-title">Your files go in.<br><em>Your AI brain comes out</em></h2>
          <p class="section-sub">Your AI tools should know everything about your business. That's why Step Zero converts your files into an AI brain.</p>
        </div>
        <div class="pipeline-hero-cards">
          <div class="kg-feature-card" style="flex-direction: row; align-items: center; gap: 20px;">
            <div class="card-fuzz-green"></div>
            <canvas class="card-fuzz-canvas"></canvas>
            <svg width="52" height="52" viewBox="0 0 52 52" fill="none" xmlns="http://www.w3.org/2000/svg" style="flex-shrink: 0;">
              <circle cx="26" cy="26" r="4" stroke="#003017" stroke-width="1.3"/>
              <circle cx="26" cy="26" r="9.5" stroke="#003017" stroke-width="1.3" stroke-dasharray="2.5 3.5"/>
              <circle cx="26" cy="26" r="15" stroke="#003017" stroke-width="1.2"/>
              <circle cx="26" cy="26" r="20.5" stroke="#003017" stroke-width="1.1" stroke-dasharray="3 4"/>
              <circle cx="26" cy="26" r="25" stroke="#003017" stroke-width="1" opacity="0.5"/>
            </svg>
            <div style="display: flex; flex-direction: column; gap: 6px; flex: 1;">
              <div class="kg-feature-title">Built on your business</div>
              <div class="kg-feature-desc">Not a generic AI tool. Every answer is grounded in your knowledge and comes with an exact source.</div>
            </div>
          </div>
          <div class="kg-feature-card" style="flex-direction: row; align-items: center; gap: 20px;">
            <div class="card-fuzz-green"></div>
            <canvas class="card-fuzz-canvas"></canvas>
            <svg width="52" height="52" viewBox="0 0 52 52" fill="none" xmlns="http://www.w3.org/2000/svg" style="flex-shrink: 0;">
              <path d="M26 46C26 46 26 30 26 26" stroke="#003017" stroke-width="1.3" stroke-linecap="round"/>
              <path d="M26 26C26 22 24.5 18 21 15" stroke="#003017" stroke-width="1.2" stroke-linecap="round"/>
              <path d="M26 30C28 27 31 24.5 35 24" stroke="#003017" stroke-width="1.2" stroke-linecap="round"/>
              <path d="M26 22C23.5 20 20 19 16.5 20" stroke="#003017" stroke-width="1.1" stroke-linecap="round" opacity="0.8"/>
              <path d="M26 18C28 15.5 31.5 13 36 13.5" stroke="#003017" stroke-width="1.1" stroke-linecap="round" opacity="0.8"/>
              <path d="M21 15C18 13 14 12.5 11 14" stroke="#003017" stroke-width="1" stroke-linecap="round" opacity="0.6"/>
              <path d="M26 14C24 11 20.5 8 17 7" stroke="#003017" stroke-width="1" stroke-linecap="round" opacity="0.6"/>
              <path d="M36 13.5C39 11.5 42 9 43 6" stroke="#003017" stroke-width="1" stroke-linecap="round" opacity="0.5"/>
              <circle cx="26" cy="26" r="2" fill="#003017" opacity="0.4"/>
            </svg>
            <div style="display: flex; flex-direction: column; gap: 6px; flex: 1;">
              <div class="kg-feature-title">Evolves as you do</div>
              <div class="kg-feature-desc">Constantly self-updating. Connected to your live data. As your business changes, the AI keeps up.</div>
            </div>
          </div>
        </div>
      </div>
      <div class="diagram-eyebrow">
        <div class="diagram-eyebrow-line"></div>
        <div class="diagram-eyebrow-text">Under the hood</div>
        <div class="diagram-eyebrow-line"></div>
      </div>
      <div class="pipeline">
        <div class="pipeline-grid">
          <div class="pipe-sources" id="pipeFiles">
            <div class="pipe-file"><div class="pipe-file-icon" style="background:rgba(100,160,255,0.1);"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M4 2h5l3 3v9a1 1 0 01-1 1H4a1 1 0 01-1-1V3a1 1 0 011-1z" stroke="rgba(100,160,255,0.8)" stroke-width="1.2"/><path d="M9 2v3h3" stroke="rgba(100,160,255,0.8)" stroke-width="1.2"/><path d="M5 7h6M5 9.5h6M5 12h4" stroke="rgba(100,160,255,0.8)" stroke-width="1" stroke-linecap="round"/></svg></div><div class="pipe-file-info"><div class="pipe-file-name">Documents</div><div class="pipe-file-meta">Word, PDF, TXT</div></div><div class="pipe-file-status"></div></div>
            <div class="pipe-file"><div class="pipe-file-icon" style="background:rgba(80,200,120,0.1);"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><rect x="2" y="2" width="12" height="12" rx="1.5" stroke="rgba(80,200,120,0.8)" stroke-width="1.2"/><path d="M2 6h12M2 10h12M6 2v12" stroke="rgba(80,200,120,0.8)" stroke-width="1" stroke-linecap="round"/></svg></div><div class="pipe-file-info"><div class="pipe-file-name">Spreadsheets</div><div class="pipe-file-meta">Excel, CSV, Sheets</div></div><div class="pipe-file-status"></div></div>
            <div class="pipe-file"><div class="pipe-file-icon" style="background:rgba(255,170,60,0.1);"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M2 4h12v8a1 1 0 01-1 1H3a1 1 0 01-1-1V4z" stroke="rgba(255,170,60,0.8)" stroke-width="1.2"/><path d="M2 4l6 5 6-5" stroke="rgba(255,170,60,0.8)" stroke-width="1.2" stroke-linecap="round"/></svg></div><div class="pipe-file-info"><div class="pipe-file-name">Emails</div><div class="pipe-file-meta">Any mail provider</div></div><div class="pipe-file-status"></div></div>
            <div class="pipe-file"><div class="pipe-file-icon" style="background:rgba(150,120,255,0.1);"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M2 4h12v6a2 2 0 01-2 2H4a2 2 0 01-2-2V4z" stroke="rgba(150,120,255,0.8)" stroke-width="1.2"/><path d="M5 8h6M5 10.5h4" stroke="rgba(150,120,255,0.8)" stroke-width="1" stroke-linecap="round"/><circle cx="4" cy="2.5" r="1" fill="rgba(150,120,255,0.8)"/><circle cx="8" cy="2.5" r="1" fill="rgba(150,120,255,0.8)"/><circle cx="12" cy="2.5" r="1" fill="rgba(150,120,255,0.8)"/></svg></div><div class="pipe-file-info"><div class="pipe-file-name">Chat messages</div><div class="pipe-file-meta">Internal comms logs</div></div><div class="pipe-file-status"></div></div>
            <div class="pipe-file"><div class="pipe-file-icon" style="background:rgba(220,80,80,0.1);"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><rect x="2" y="2" width="12" height="12" rx="1.5" stroke="rgba(220,80,80,0.8)" stroke-width="1.2"/><path d="M5 6h6M5 8.5h6M5 11h4" stroke="rgba(220,80,80,0.8)" stroke-width="1" stroke-linecap="round"/><rect x="4" y="4" width="8" height="1.5" rx="0.5" fill="rgba(220,80,80,0.3)"/></svg></div><div class="pipe-file-info"><div class="pipe-file-name">Databases</div><div class="pipe-file-meta">CRM, ERP, custom</div></div><div class="pipe-file-status"></div></div>
            <div class="pipe-file"><div class="pipe-file-icon" style="background:rgba(80,180,220,0.1);"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><rect x="1.5" y="2" width="13" height="10" rx="1.5" stroke="rgba(80,180,220,0.8)" stroke-width="1.2"/><circle cx="8" cy="7" r="2.5" stroke="rgba(80,180,220,0.8)" stroke-width="1"/><path d="M1.5 14l3-2h7l3 2" stroke="rgba(80,180,220,0.8)" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"/></svg></div><div class="pipe-file-info"><div class="pipe-file-name">Video and audio</div><div class="pipe-file-meta">Calls, recordings</div></div><div class="pipe-file-status"></div></div>
          </div>
          <div class="pipe-flow-area">
            <svg class="pipe-flow-svg" id="pipeFlowSvg" viewBox="0 0 300 340" preserveAspectRatio="none"></svg>
            <div class="pipe-mobile-connector" id="pipeMobileConnector"><svg width="2" height="60" style="overflow:visible;"><line x1="1" y1="0" x2="1" y2="60" stroke="rgba(186,217,168,0.2)" stroke-width="1.5" stroke-dasharray="4 3"/></svg></div>
          </div>
          <div class="pipe-right-col">
            <div class="pipe-engine" id="pipeEngine">
              <div class="pipe-engine-label">Step Zero Engine</div>
              <div class="pipe-engine-steps">
                <div class="pipe-step"><div class="pipe-step-num">1</div><div class="pipe-step-text">Ingest</div></div>
                <div class="pipe-step"><div class="pipe-step-num">2</div><div class="pipe-step-text">De-duplicate</div></div>
                <div class="pipe-step"><div class="pipe-step-num">3</div><div class="pipe-step-text">Structure</div></div>
                <div class="pipe-step"><div class="pipe-step-num">4</div><div class="pipe-step-text">Tag</div></div>
                <div class="pipe-step"><div class="pipe-step-num">5</div><div class="pipe-step-text">Permission</div></div>
              </div>
            </div>
            <div class="pipe-engine-brain-connector" id="pipeEngineBrainConnector"></div>
            <div class="pipe-brain-panel" id="pipeBrainPanel">
              <div class="pipe-brain">
                <div class="pipe-brain-visual">
                  <svg class="pipe-brain-svg" viewBox="0 0 72 72" fill="none">
                    <!-- Sonar pulse rings -->
                    <circle cx="36" cy="36" r="14" class="brain-sonar-1"/>
                    <circle cx="36" cy="36" r="14" class="brain-sonar-2"/>
                    <circle cx="36" cy="36" r="14" class="brain-sonar-3"/>
                    <!-- Rotating rings -->
                    <circle cx="36" cy="36" r="34" class="brain-ring-outer" stroke-width="1"/>
                    <circle cx="36" cy="36" r="24" class="brain-ring-mid" stroke-width="0.5"/>
                    <!-- Core -->
                    <circle cx="36" cy="36" r="14" class="brain-core" stroke-width="1.5"/>
                    <circle cx="36" cy="36" r="6" class="brain-pulse"/>
                    <!-- Star -->
                    <path d="M36 28 C36.5 31.8 37.9 33.1 41.5 33.6 C37.9 34.1 36.5 35.4 36 39.2 C35.5 35.4 34.1 34.1 30.5 33.6 C34.1 33.1 35.5 31.8 36 28Z" fill="#BAD9A8" opacity="0.9"/>
                    <!-- Orbiting nodes -->
                    <circle cx="36" cy="6" r="4" class="brain-orbit-1"/>
                    <circle cx="62" cy="36" r="3" class="brain-orbit-2"/>
                    <circle cx="36" cy="66" r="3.5" class="brain-orbit-3"/>
                  </svg>
                </div>
                <div class="pipe-brain-name">AI brain</div>
                <div class="pipe-brain-sub">Single source of truth</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- FOLD 2D: TOOLS GRID -->
  <section class="section-tools">
    <div class="container">
      <div class="section-label">One foundation. Any tool.</div>
      <h2 class="section-title">The AI brain powers<br><em>whatever tools you want</em></h2>
      <p class="section-sub">The foundation is the hard part. Once it's built, every tool you add runs on the same AI brain, faster and cheaper each time.</p>
      <!-- Three interface showcase cards -->
      <div class="tools-showcase">

        <!-- Knowledge Assistant -->
        <div class="interface-card">
          <div class="interface-bar">
            <div class="interface-dots"><span></span><span></span><span></span></div>
            <div class="interface-bar-title">
              <svg width="10" height="10" viewBox="0 0 22 22" fill="none"><path d="M11 4C11.5 7.6 13.4 9.5 17 10 13.4 10.5 11.5 12.4 11 16 10.5 12.4 8.6 10.5 5 10 8.6 9.5 10.5 7.6 11 4Z" fill="#BAD9A8"/></svg>
              Knowledge assistant
            </div>
          </div>
          <div class="interface-body icard-chat-wrap" id="kaChat"></div>
          <div class="interface-footer">
            <div class="interface-tag">Time and cost savings</div>
            <div class="interface-desc">Source-cited answers to any internal question.</div>
          </div>
        </div>

        <!-- Email Automation -->
        <div class="interface-card">
          <div class="interface-bar">
            <div class="interface-dots"><span></span><span></span><span></span></div>
            <div class="interface-bar-title">
              <svg width="10" height="10" viewBox="0 0 22 22" fill="none"><path d="M11 4C11.5 7.6 13.4 9.5 17 10 13.4 10.5 11.5 12.4 11 16 10.5 12.4 8.6 10.5 5 10 8.6 9.5 10.5 7.6 11 4Z" fill="#BAD9A8"/></svg>
              Email automation
            </div>
          </div>
          <div class="interface-body ea-body-wrap">
            <div class="ea-client" id="emailAnim">
              <div class="ea-gm-bar" id="eaToolbar">
                <div class="ea-gm-bar-l">
                  <span class="ea-gm-ico"><svg width="14" height="14" viewBox="0 0 24 24" fill="none"><path d="M19 12H5m7-7l-7 7 7 7" stroke="#5f6368" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></span>
                  <span class="ea-gm-ico"><svg width="13" height="13" viewBox="0 0 24 24" fill="none"><path d="M21 8V21H3V8" stroke="#5f6368" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M23 3H1v5h22V3z" stroke="#5f6368" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg></span>
                  <span class="ea-gm-ico"><svg width="13" height="13" viewBox="0 0 24 24" fill="none"><path d="M3 6h18M8 6V4a2 2 0 012-2h4a2 2 0 012 2v2m3 0v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6" stroke="#5f6368" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg></span>
                  <span class="ea-gm-ico"><svg width="13" height="13" viewBox="0 0 24 24" fill="none"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" stroke="#5f6368" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M22 6l-10 7L2 6" stroke="#5f6368" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg></span>
                  <span class="ea-gm-sep"></span>
                  <span class="ea-gm-ico"><svg width="13" height="13" viewBox="0 0 24 24" fill="none"><path d="M5 3h14a2 2 0 012 2v14a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2zm4 4l6 5-6 5V7z" stroke="#5f6368" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg></span>
                </div>
                <div class="ea-gm-bar-r">
                  <span class="ea-gm-pager">1 of 24</span>
                  <span class="ea-gm-ico"><svg width="12" height="12" viewBox="0 0 24 24" fill="none"><path d="M15 18l-6-6 6-6" stroke="#5f6368" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></span>
                  <span class="ea-gm-ico"><svg width="12" height="12" viewBox="0 0 24 24" fill="none"><path d="M9 6l6 6-6 6" stroke="#5f6368" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></span>
                </div>
              </div>
              <div class="ea-viewport">
                <!-- Phase 0: Gmail inbox list -->
                <div class="ea-phase" id="eaInbox">
                  <div class="ea-gm-tabs">
                    <span class="ea-gm-tab ea-gm-tab--active">Primary</span>
                    <span class="ea-gm-tab">Social</span>
                    <span class="ea-gm-tab">Promotions</span>
                  </div>
                  <div class="ea-gm-row ea-gm-row--unread" id="eaInboxTarget">
                    <span class="ea-gm-row-chk"><svg width="12" height="12" viewBox="0 0 24 24" fill="none"><rect x="3" y="3" width="18" height="18" rx="2" stroke="currentColor" stroke-width="1.5"/></svg></span>
                    <span class="ea-gm-row-star"><svg width="12" height="12" viewBox="0 0 24 24" fill="none"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" stroke="currentColor" stroke-width="1.5" fill="none"/></svg></span>
                    <div class="ea-gm-row-content">
                      <span class="ea-gm-row-sender">Sarah Chen</span>
                      <span class="ea-gm-row-subj">Re: Q2 Partnership Proposal</span>
                      <span class="ea-gm-row-preview"> — We'd like to move forward with the...</span>
                    </div>
                    <span class="ea-gm-row-date">10:32 AM</span>
                  </div>
                  <div class="ea-gm-row ea-gm-row--read">
                    <span class="ea-gm-row-chk"><svg width="12" height="12" viewBox="0 0 24 24" fill="none"><rect x="3" y="3" width="18" height="18" rx="2" stroke="currentColor" stroke-width="1.5"/></svg></span>
                    <span class="ea-gm-row-star"><svg width="12" height="12" viewBox="0 0 24 24" fill="none"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" stroke="currentColor" stroke-width="1.5" fill="none"/></svg></span>
                    <div class="ea-gm-row-content">
                      <span class="ea-gm-row-sender">James Liu</span>
                      <span class="ea-gm-row-subj">Invoice #4821</span>
                      <span class="ea-gm-row-preview"> — Attached is the invoice for last...</span>
                    </div>
                    <span class="ea-gm-row-date">9:15 AM</span>
                  </div>
                  <div class="ea-gm-row ea-gm-row--read">
                    <span class="ea-gm-row-chk"><svg width="12" height="12" viewBox="0 0 24 24" fill="none"><rect x="3" y="3" width="18" height="18" rx="2" stroke="currentColor" stroke-width="1.5"/></svg></span>
                    <span class="ea-gm-row-star"><svg width="12" height="12" viewBox="0 0 24 24" fill="none"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" stroke="currentColor" stroke-width="1.5" fill="none"/></svg></span>
                    <div class="ea-gm-row-content">
                      <span class="ea-gm-row-sender">Marketing Team</span>
                      <span class="ea-gm-row-subj">Weekly update</span>
                      <span class="ea-gm-row-preview"> — Here's the summary from this week's...</span>
                    </div>
                    <span class="ea-gm-row-date">Yesterday</span>
                  </div>
                  <div class="ea-gm-row ea-gm-row--read">
                    <span class="ea-gm-row-chk"><svg width="12" height="12" viewBox="0 0 24 24" fill="none"><rect x="3" y="3" width="18" height="18" rx="2" stroke="currentColor" stroke-width="1.5"/></svg></span>
                    <span class="ea-gm-row-star"><svg width="12" height="12" viewBox="0 0 24 24" fill="none"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" stroke="currentColor" stroke-width="1.5" fill="none"/></svg></span>
                    <div class="ea-gm-row-content">
                      <span class="ea-gm-row-sender">David Park</span>
                      <span class="ea-gm-row-subj">New applicant: Senior Eng</span>
                      <span class="ea-gm-row-preview"> — A new application has been...</span>
                    </div>
                    <span class="ea-gm-row-date">Yesterday</span>
                  </div>
                  <div class="ea-gm-row ea-gm-row--read">
                    <span class="ea-gm-row-chk"><svg width="12" height="12" viewBox="0 0 24 24" fill="none"><rect x="3" y="3" width="18" height="18" rx="2" stroke="currentColor" stroke-width="1.5"/></svg></span>
                    <span class="ea-gm-row-star"><svg width="12" height="12" viewBox="0 0 24 24" fill="none"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" stroke="currentColor" stroke-width="1.5" fill="none"/></svg></span>
                    <div class="ea-gm-row-content">
                      <span class="ea-gm-row-sender">Lisa Wang</span>
                      <span class="ea-gm-row-subj">Q1 results summary</span>
                      <span class="ea-gm-row-preview"> — Please find attached the Q1...</span>
                    </div>
                    <span class="ea-gm-row-date">Feb 16</span>
                  </div>
                </div>
                <!-- Phase 1: Gmail email detail view -->
                <div class="ea-phase" id="eaReceived">
                  <div class="ea-gm-detail">
                    <div class="ea-gm-subject-row">
                      <span class="ea-gm-subject">Re: Q2 Partnership Proposal</span>
                      <span class="ea-gm-inbox-lbl">Inbox</span>
                    </div>
                    <div class="ea-gm-sender-row">
                      <div class="ea-gm-avatar">S</div>
                      <div class="ea-gm-sender-info">
                        <div class="ea-gm-sender-name">Sarah Chen <span class="ea-gm-sender-addr">&lt;sarah@acme.com&gt;</span></div>
                        <div class="ea-gm-to">to me</div>
                      </div>
                      <span class="ea-gm-date-detail">10:32 AM</span>
                    </div>
                    <div class="ea-gm-email-body">Hi,

We'd like to move forward with the partnership. Could you send your standard terms and availability for a call next week?

Best,
Sarah</div>
                  </div>
                </div>
                <!-- Phase 2: AI reply compose (Gmail style) -->
                <div class="ea-phase" id="eaCompose">
                  <div class="ea-gm-compose">
                    <div class="ea-gm-reply-box">
                      <div class="ea-gm-reply-head">
                        <span class="ea-ai-badge"><svg width="10" height="10" viewBox="0 0 22 22" fill="none"><path d="M11 4C11.5 7.6 13.4 9.5 17 10 13.4 10.5 11.5 12.4 11 16 10.5 12.4 8.6 10.5 5 10 8.6 9.5 10.5 7.6 11 4Z" fill="currentColor"/></svg> AI writing reply<span class="ea-ellipsis"><span>.</span><span>.</span><span>.</span></span></span>
                      </div>
                      <div class="ea-gm-reply-body"><span id="eaReplyText"></span><span class="ea-cursor" id="eaCursor"></span></div>
                      <div class="ea-gm-reply-foot">
                        <button class="ea-gm-send" id="eaSendBtn">Send</button>
                        <span class="ea-gm-tool-ico"><svg width="11" height="11" viewBox="0 0 24 24" fill="none"><path d="M15 7h3a5 5 0 010 10h-3m-6 0H6A5 5 0 016 7h3M8 12h8" stroke="#5f6368" stroke-width="1.5" stroke-linecap="round"/></svg></span>
                        <span class="ea-gm-tool-ico"><svg width="11" height="11" viewBox="0 0 24 24" fill="none"><path d="M21.44 11.05l-9.19 9.19a6 6 0 01-8.49-8.49l9.19-9.19a4 4 0 015.66 5.66l-9.2 9.19a2 2 0 01-2.83-2.83l8.49-8.49" stroke="#5f6368" stroke-width="1.5" stroke-linecap="round"/></svg></span>
                        <span class="ea-gm-tool-ico"><svg width="11" height="11" viewBox="0 0 24 24" fill="none"><path d="M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" stroke="#5f6368" stroke-width="1.5" stroke-linecap="round"/></svg></span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="interface-footer">
            <div class="interface-tag">Reduced headcount</div>
            <div class="interface-desc">AI reads, classifies, and replies from your inbox.</div>
          </div>
        </div>

        <!-- Revenue-Generating Chatbot -->
        <div class="interface-card">
          <div class="interface-bar">
            <div class="interface-dots"><span></span><span></span><span></span></div>
            <div class="interface-bar-title">
              <svg width="10" height="10" viewBox="0 0 22 22" fill="none"><path d="M11 4C11.5 7.6 13.4 9.5 17 10 13.4 10.5 11.5 12.4 11 16 10.5 12.4 8.6 10.5 5 10 8.6 9.5 10.5 7.6 11 4Z" fill="#BAD9A8"/></svg>
              Revenue-generating chatbot
            </div>
          </div>
          <div class="interface-body icard-chat-wrap" id="rcChat"></div>
          <div class="interface-footer">
            <div class="interface-tag">Revenue growth</div>
            <div class="interface-desc">Boost sales through conversational buying.</div>
          </div>
        </div>

      </div>
      <div class="tools-more">+ Other kinds of tools and connections available</div>

    </div>
  </section>

  <!-- VIDEO DEMO -->
  <section class="section-video-demo">
    <div class="container">
      <div class="section-label">See it in action</div>
      <h2 class="section-title">5 minutes on <em>how we do it</em></h2>
      <div class="video-demo-embed">
        <div style="position: relative; padding-bottom: 56.36743215031315%; height: 0;"><iframe src="https://www.loom.com/embed/d22ae54d1d0744a28298f27789b6515b" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></iframe></div>
      </div>
    </div>
  </section>

  <!-- SOCIAL PROOF: ENGINEERING-LED -->
  <section class="section-mosaic">
    <div class="container">
      <div class="mosaic-layout">
        <div class="mosaic-photo">
          <img src="assets/team/working-on-code.png" alt="Valae team working on code">
        </div>
        <div class="mosaic-text">
          <h2>Engineering-led, not sales-led</h2>
          <p>Our team has lectured on AI at universities, run global engineering and data teams, and led multi-million-dollar digital businesses.</p>
          <div class="usp-grid">
            <div class="usp-item">
              <div class="usp-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2L2 7l10 5 10-5-10-5z"/><path d="M2 17l10 5 10-5"/><path d="M2 12l10 5 10-5"/></svg>
              </div>
              <h3>Enterprise tech, mid-size pricing</h3>
              <p>The same architecture powering Fortune 500 AI, built to fit your budget and scale.</p>
            </div>
            <div class="usp-item">
              <div class="usp-icon">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="11" width="18" height="11" rx="2"/><path d="M7 11V7a5 5 0 0110 0v4"/></svg>
              </div>
              <h3>World-class security</h3>
              <p>ISO compliant infrastructure, encrypted at rest and in transit, with strict data isolation.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- FOLD 3: TIERS -->
  <section class="section-tiers">
    <div class="container">
      <div class="section-label">What you get</div>
      <h2 class="section-title">A proven framework</h2>
      <div class="tiers-header-row">
        <p class="section-sub">Each step delivers standalone value. Start small, expand when you're ready.</p>
        <button class="tiers-cta-btn" onclick="showPage('form')">
          Book a meeting
          <svg width="14" height="14" viewBox="0 0 16 16" fill="none"><path d="M3 8h10M9 4l4 4-4 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
        </button>
      </div>

      <div class="tiers-grid">
        <!-- Tier 1: Audit -->
        <div class="tier-card">
          <div class="tier-step">Step 1</div>
          <div class="tier-name">Analyse</div>
          <div class="tier-desc">We map your data, identify gaps, and build a prioritised roadmap.
          </div>
          <ul class="tier-features">
            <li>
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M3.5 8l3 3 6-6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
              Knowledge analysis
            </li>
            <li>
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M3.5 8l3 3 6-6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
              Gap assessment
            </li>
            <li>
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M3.5 8l3 3 6-6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
              Data quality review
            </li>
            <li>
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M3.5 8l3 3 6-6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
              Actionable roadmap
            </li>
          </ul>
          <div class="tier-timeline">1 week</div>
        </div>

        <!-- Tier 2: Build -->
        <div class="tier-card featured">
          <div class="tier-step">Step 2</div>
          <div class="tier-name">Build</div>
          <div class="tier-desc">We build your AI brain, and deploy tools, and measure ROI.</div>
          <ul class="tier-features">
            <li>
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M3.5 8l3 3 6-6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
              Full Step Zero process
            </li>
            <li>
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M3.5 8l3 3 6-6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
              Permanent AI brain
            </li>
            <li>
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M3.5 8l3 3 6-6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
              First AI tool bringing ROI
            </li>
            <li>
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M3.5 8l3 3 6-6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
              Works within your systems
            </li>
          </ul>
          <div class="tier-timeline">4 weeks</div>
        </div>

        <!-- Tier 3: Manage -->
        <div class="tier-card">
          <div class="tier-step">Step 3</div>
          <div class="tier-name">Manage</div>
          <div class="tier-desc">Your AI brain plugs into all your tools, even ChatGPT. 
          </div>
          <ul class="tier-features">
            <li>
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M3.5 8l3 3 6-6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
              Self-updating
            </li>
            <li>
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M3.5 8l3 3 6-6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
              New tools, same foundation
            </li>
            <li>
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M3.5 8l3 3 6-6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
              Monthly KPI reporting
            </li>
            <li>
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M3.5 8l3 3 6-6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
              World-class security
            </li>
          </ul>
          <div class="tier-timeline">Ongoing</div>
        </div>
      </div>

    </div>
  </section>

  <!-- FOLD 4: PROOF -->
  <section class="section-proof">
    <div class="container">
      <div class="section-label">Real results</div>
      <h2 class="section-title">Recent projects</h2>
      <p class="section-sub">Delivering ROI that our clients can see. Measured daily.</p>

      <div class="proof-grid">
        <a href="https://valae.ai/projects/moco-museum" target="_blank" class="proof-card proof-card--link">
          <div class="proof-card-img">
            <img src="assets/clients/moco-image.jpg" alt="Moco Museum">
          </div>
          <span class="proof-tag">Email automation</span>
          <div class="proof-card-body">
            <div class="proof-client"><img src="assets/logos/mocomuseum_logo.png" alt="Moco Museum" class="proof-client-logo proof-client-logo--moco"></div>
            <div class="proof-industry">Culture and experiences</div>
            <div class="proof-stat">92% automated</div>
            <div class="proof-stat-label">customer comms. Reply time reduced from 3 days to 3 minutes.</div>
            <div class="proof-read-more">Read case study <svg width="12" height="12" viewBox="0 0 16 16" fill="none"><path d="M3 8h10M9 4l4 4-4 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg></div>
          </div>
        </a>
        <a href="https://valae.ai/projects/mango-mobility" target="_blank" class="proof-card proof-card--link">
          <div class="proof-card-img">
            <img src="assets/clients/mango-image.avif" alt="Mango Mobility">
          </div>
          <span class="proof-tag">Knowledge assistant</span>
          <div class="proof-card-body">
            <div class="proof-client"><img src="assets/logos/mango_logo.png" alt="Mango Mobility" class="proof-client-logo"></div>
            <div class="proof-industry">Mobility and health</div>
            <div class="proof-stat">23 hrs/wk saved</div>
            <div class="proof-stat-label">with instant, source-cited answers.</div>
            <div class="proof-read-more">Read case study <svg width="12" height="12" viewBox="0 0 16 16" fill="none"><path d="M3 8h10M9 4l4 4-4 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg></div>
          </div>
        </a>
        <div class="proof-card proof-card--link" style="cursor:default; text-decoration:none; color:inherit;">
          <div class="proof-card-img">
            <img src="assets/clients/ikea-image.avif" alt="IKEA">
          </div>
          <span class="proof-tag">Customer chatbot</span>
          <div class="proof-card-body">
            <div class="proof-client"><img src="assets/logos/ikea_logo.png" alt="IKEA" class="proof-client-logo"></div>
            <div class="proof-industry">Retail and e-commerce</div>
            <div class="proof-stat">63 countries</div>
            <div class="proof-stat-label">with one global AI chatbot and instant customer service.</div>
          </div>
        </div>
      </div>

    </div>
  </section>

  <!-- FOLD 5: CTA -->
  <section class="section-cta">
    <div class="container">
      <p style="font-family: var(--font-display); font-size: 13px; font-weight: 600; letter-spacing: 2px; text-transform: uppercase; color: var(--pistachio); opacity: 0.5; margin-bottom: 20px;">Build solid foundations</p>
      <h2 class="cta-title">Ready to <em>future-proof</em><br>for the AI era?</h2>
      <p class="cta-sub">It starts with a 15-minute demo.</p>
      <button class="btn-primary" onclick="showPage('form')" style="font-size:18px; padding: 18px 40px;">
        Book a demo
        <svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M3 8h10M9 4l4 4-4 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
      </button>
    </div>
  </section>

  <footer class="footer">
    <div class="footer-inner">
      <div class="footer-left">&copy; 2026 Valae B.V. All rights reserved.</div>
      <div class="footer-right"><img class="footer-logo-placeholder" src="assets/logos/Valae-BM-Forest_1.png" alt="Valae"></div>
    </div>
  </footer>
</div>

<!-- ================================================================
     PAGE 2: QUALIFICATION FORM
     ================================================================ -->
<div class="page" id="page-form">
  <div class="form-page">
    <div class="form-card">
      <div class="form-progress">
        <div class="form-progress-step active"></div>
        <div class="form-progress-step"></div>
      </div>
      <div class="form-badge">Step 1 of 2</div>
      <h2 class="form-title">Tell us about your business</h2>
      <p class="form-sub">Takes less than 2 minutes. We'll review this before the call so we can hit the ground running.</p>

      <form id="qualForm" onsubmit="handleFormSubmit(event)">
        <div class="form-group">
          <label class="form-label">Your name</label>
          <input type="text" id="formName" class="form-input" placeholder="Full name" required>
        </div>
        <div class="form-group">
          <label class="form-label">Company name</label>
          <input type="text" id="formCompany" class="form-input" placeholder="Your company" required>
        </div>
        <div class="form-group">
          <label class="form-label">Email address</label>
          <input type="email" id="formEmail" class="form-input" placeholder="you@company.com" required>
        </div>
        <div class="form-group">
          <label class="form-label">Biggest operational pain point <span style="font-weight:400;opacity:0.5;">(optional)</span></label>
          <textarea id="formPainPoint" class="form-input" placeholder="Where does your team lose the most time? What's frustrating?"></textarea>
        </div>
        <button type="submit" class="form-submit">
          Submit
        </button>
      </form>
    </div>
  </div>
</div>

<!-- ================================================================
     PAGE 3: BOOKING
     ================================================================ -->
<div class="page" id="page-booking">
  <div class="confirm-page">
    <div class="confirm-content">
      <div class="confirm-icon">
        <svg width="32" height="32" viewBox="0 0 24 24" fill="none"><path d="M5 13l4 4L19 7" stroke="#BAD9A8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
      </div>
      <h2 class="confirm-title">Thank you!</h2>
      <p class="confirm-sub">We've received your information and will be in touch within 24 hours.</p>

      <button class="btn-primary" onclick="showPage('product')" style="font-size:16px; padding: 16px 36px; margin-top: 8px;">
        ← Back to home
      </button>
    </div>
  </div>
</div>

<!-- ================================================================
     JAVASCRIPT
     ================================================================ -->
<script>
// Page navigation
function showPage(page) {
  document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
  document.getElementById('page-' + page).classList.add('active');
  window.scrollTo(0, 0);
}

// Form submission → Attio lead creation
function handleFormSubmit(e) {
  e.preventDefault();
  const btn = e.target.querySelector('.form-submit');
  btn.disabled = true;
  btn.textContent = 'Submitting…';

  const payload = {
    fullName: document.getElementById('formName').value.trim(),
    company: document.getElementById('formCompany').value.trim(),
    email: document.getElementById('formEmail').value.trim(),
    painPoint: document.getElementById('formPainPoint').value.trim() || undefined,
  };

  fetch('/api/leads', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(payload),
  })
    .then(res => {
      if (!res.ok) throw new Error('Submission failed');
      return res.json();
    })
    .then(() => showPage('booking'))
    .catch(err => {
      console.error('Form submission error:', err);
      btn.disabled = false;
      btn.textContent = 'Submit';
    });
}

// Nav scroll behavior
const nav = document.getElementById('mainNav');
window.addEventListener('scroll', () => {
  if (window.scrollY > 20) {
    nav.classList.remove('at-top');
    nav.classList.add('scrolled');
  } else {
    nav.classList.remove('scrolled');
    nav.classList.add('at-top');
  }
});

/* ================================================================
   DIAGRAM ANIMATIONS
   ================================================================ */
function isMobile() { return window.innerWidth <= 768; }

function initPipeline() {
  if (isMobile()) { initPipelineMobile(); } else { initPipelineDesktop(); initEngineBrainConnector(); }
  let stepIdx = 0;
  const steps = document.querySelectorAll('.pipe-step');
  setInterval(() => {
    steps.forEach(s => s.classList.remove('active'));
    steps[stepIdx].classList.add('active');
    stepIdx = (stepIdx + 1) % steps.length;
  }, 900);
}

function initPipelineDesktop() {
  const svg = document.getElementById('pipeFlowSvg');
  const files = document.querySelectorAll('.pipe-file');
  const engineX = 300, engineY = 100, sourceX = 0;
  const rowH = (340 - 20) / files.length;
  let svgContent = '';
  files.forEach((file, i) => {
    const y = 10 + rowH * i + rowH / 2;
    const d = `M${sourceX},${y} C${sourceX+80},${y} ${engineX-80},${engineY} ${engineX},${engineY}`;
    svgContent += `<path id="pp${i}" d="${d}" stroke="rgba(186,217,168,0.08)" stroke-width="1" fill="none"/>`;
    svgContent += `<path class="pipe-path-active" data-idx="${i}" d="${d}" stroke="rgba(186,217,168,0.3)" stroke-width="1.5" fill="none" opacity="0"/>`;
  });
  svg.innerHTML = svgContent;
  [0,900,1800,2700,3600,4500].forEach((delay, i) => {
    setTimeout(() => {
      files[i] && files[i].classList.add('ingesting');
      const ap = svg.querySelector(`.pipe-path-active[data-idx="${i}"]`);
      if (ap) { ap.style.transition = 'opacity 0.4s ease'; ap.style.opacity = '1'; }
      launchPackets(i);
    }, delay);
  });
}

function initPipelineMobile() {
  const files = document.querySelectorAll('.pipe-file');
  const connector = document.getElementById('pipeMobileConnector');
  [0,500,1000,1500,2000,2500].forEach((d,i) => setTimeout(() => files[i] && files[i].classList.add('ingesting'), d));
  setTimeout(() => files.forEach(f => f.classList.add('ingesting')), 3500);
  function launchV(ed) {
    setTimeout(() => {
      if (!connector) return;
      const dot = document.createElement('div');
      dot.style.cssText = `position:absolute;width:5px;height:5px;border-radius:50%;background:var(--pistachio);box-shadow:0 0 6px rgba(186,217,168,0.9);left:50%;transform:translateX(-50%);top:0;pointer-events:none;`;
      connector.appendChild(dot);
      const start = performance.now(), dur = 1200;
      function step(now) {
        const t = Math.min((now-start)/dur,1), e = t*t*(3-2*t), o = t<0.1?t/0.1:t>0.8?(1-t)/0.2:1;
        dot.style.top=(e*60)+'px'; dot.style.opacity=o;
        t<1 ? requestAnimationFrame(step) : dot.remove();
      }
      requestAnimationFrame(step);
    }, ed);
  }
  for(let i=0;i<3;i++) launchV(i*500);
  setInterval(() => { for(let i=0;i<3;i++) launchV(i*400); }, 2500);
}

function initEngineBrainConnector() {
  const connector = document.getElementById('pipeEngineBrainConnector');
  const brainPanel = document.getElementById('pipeBrainPanel');
  if (!connector || isMobile()) return;

  const canvas = document.createElement('canvas');
  canvas.className = 'eb-electric-canvas';
  const dpr = window.devicePixelRatio || 1;
  const w = 60, h = connector.offsetHeight || 72;
  canvas.width = w * dpr;
  canvas.height = h * dpr;
  canvas.style.width = w + 'px';
  canvas.style.height = h + 'px';
  connector.appendChild(canvas);
  const ctx = canvas.getContext('2d');
  ctx.scale(dpr, dpr);

  const cx = w / 2;
  let t = 0;

  function draw() {
    t += 16;
    ctx.clearRect(0, 0, w, h);

    const pulse = 0.6 + 0.4 * Math.sin(t * 0.003);

    // Ambient glow column
    const ambGrad = ctx.createLinearGradient(0, 0, 0, h);
    ambGrad.addColorStop(0, `rgba(186,217,168,${0.03 * pulse})`);
    ambGrad.addColorStop(0.5, `rgba(186,217,168,${0.08 * pulse})`);
    ambGrad.addColorStop(1, `rgba(186,217,168,${0.05 * pulse})`);
    ctx.fillStyle = ambGrad;
    ctx.fillRect(cx - 12, 0, 24, h);

    // Flowing brightness waves (two staggered)
    for (let wi = 0; wi < 2; wi++) {
      const waveY = ((t * 0.04 + wi * h * 0.6) % (h + 30)) - 15;
      const wGrad = ctx.createLinearGradient(0, waveY - 16, 0, waveY + 16);
      wGrad.addColorStop(0, 'rgba(186,217,168,0)');
      wGrad.addColorStop(0.5, `rgba(186,217,168,${0.18 * pulse})`);
      wGrad.addColorStop(1, 'rgba(186,217,168,0)');
      ctx.fillStyle = wGrad;
      ctx.fillRect(cx - 14, waveY - 16, 28, 32);
    }

    // Core energy line (slightly undulating)
    ctx.save();
    ctx.shadowColor = `rgba(186,217,168,${0.85 * pulse})`;
    ctx.shadowBlur = 10;
    ctx.strokeStyle = `rgba(186,217,168,${0.65 * pulse})`;
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(cx, 0);
    for (let y = 1; y <= h; y++) {
      const xOff = Math.sin(y * 0.18 + t * 0.006) * 1.2 + Math.sin(y * 0.07 - t * 0.003) * 0.7;
      ctx.lineTo(cx + xOff, y);
    }
    ctx.stroke();
    // Wider softer pass for bloom
    ctx.shadowBlur = 4;
    ctx.strokeStyle = `rgba(186,217,168,${0.2 * pulse})`;
    ctx.lineWidth = 5;
    ctx.stroke();
    ctx.restore();

    // Electrical tendrils
    for (let i = 0; i < 5; i++) {
      const phase = t * (0.004 + i * 0.0008) + i * 1.3;
      const amp = 5 + Math.sin(t * 0.0018 + i * 2.7) * 4;
      const freq = 0.07 + i * 0.025;
      const alpha = 0.1 + 0.08 * Math.sin(t * 0.004 + i * 1.4);

      ctx.save();
      ctx.shadowColor = `rgba(186,217,168,${alpha})`;
      ctx.shadowBlur = 3;
      ctx.strokeStyle = `rgba(186,217,168,${alpha})`;
      ctx.lineWidth = 0.5;
      ctx.beginPath();
      for (let y = 0; y <= h; y++) {
        const envelope = Math.sin(y / h * Math.PI);
        const x = cx + Math.sin(y * freq + phase) * amp * envelope;
        y === 0 ? ctx.moveTo(x, y) : ctx.lineTo(x, y);
      }
      ctx.stroke();
      ctx.restore();
    }

    // Occasional bright spark
    if (Math.random() < 0.04) {
      const sy = Math.random() * h;
      const sx = cx + (Math.random() - 0.5) * 10;
      ctx.save();
      ctx.shadowColor = 'rgba(186,217,168,0.9)';
      ctx.shadowBlur = 6;
      ctx.fillStyle = 'rgba(186,217,168,0.7)';
      ctx.beginPath();
      ctx.arc(sx, sy, 1.2, 0, Math.PI * 2);
      ctx.fill();
      ctx.restore();
    }

    requestAnimationFrame(draw);
  }

  requestAnimationFrame(draw);

  // Periodic brain panel glow
  if (brainPanel) {
    brainPanel.classList.add('activated');
    setInterval(() => {
      brainPanel.classList.remove('activated');
      void brainPanel.offsetWidth;
      brainPanel.classList.add('activated');
    }, 3500);
  }
}

function launchPackets(lineIdx) {
  const pathEl = document.getElementById(`pp${lineIdx}`);
  if (!pathEl) return;
  const container = document.querySelector('.pipe-flow-area');
  const svgEl = document.getElementById('pipeFlowSvg');
  function fire() {
    for (let p=0;p<3;p++) setTimeout(() => animatePacket(pathEl,svgEl,container), p*1200);
  }
  fire();
  setInterval(fire, 4000);
}

function animatePacket(pathEl, svgEl, container) {
  const totalLen = pathEl.getTotalLength();
  const dot = document.createElement('div');
  dot.className = 'data-packet';
  container.appendChild(dot);
  const svgRect = svgEl.getBoundingClientRect(), contRect = container.getBoundingClientRect();
  const ox = svgRect.left-contRect.left, oy = svgRect.top-contRect.top;
  const sx = svgRect.width/300, sy = svgRect.height/340;
  const start = performance.now(), dur = 1800;
  function step(now) {
    const t = Math.min((now-start)/dur,1);
    const e = t<0.5 ? 4*t*t*t : 1-Math.pow(-2*t+2,3)/2;
    const pt = pathEl.getPointAtLength(e*totalLen);
    dot.style.left=(pt.x*sx+ox-2.5)+'px'; dot.style.top=(pt.y*sy+oy-2.5)+'px';
    t<1 ? requestAnimationFrame(step) : dot.remove();
  }
  requestAnimationFrame(step);
}

function initKG() {
  const wrap = document.getElementById('kgWrap');
  const svg = document.getElementById('kgLinesSvg');
  if (!wrap || !svg) return;
  const W = wrap.offsetWidth, H = wrap.offsetHeight;
  const nodes = [
    { id:'brain',     type:'center', label:'AI brain',     sub:'',              x:0.50,y:0.50, color:'#002a14', border:'rgba(186,217,168,0.4)', size:68 },
    { id:'products',  type:'topic',  label:'Products',     sub:'94 entries',    x:0.20,y:0.18, color:'#003017', border:'rgba(0,48,23,0.5)',     size:48 },
    { id:'customers', type:'topic',  label:'Customers',    sub:'8,200 records', x:0.82,y:0.18, color:'#003017', border:'rgba(0,48,23,0.5)',     size:48 },
    { id:'ops',       type:'topic',  label:'Operations',   sub:'47 SOPs',       x:0.84,y:0.78, color:'#003017', border:'rgba(0,48,23,0.5)',     size:48 },
    { id:'comms',     type:'topic',  label:'Comms',        sub:'12k emails',    x:0.18,y:0.80, color:'#003017', border:'rgba(0,48,23,0.5)',     size:48 },
    { id:'s1',type:'source',label:'Documents',   x:0.04,y:0.06,color:'rgba(100,160,255,0.12)',border:'rgba(100,160,255,0.55)',size:34},
    { id:'s2',type:'source',label:'Spreadsheets',x:0.38,y:0.04,color:'rgba(60,180,100,0.12)', border:'rgba(60,180,100,0.55)', size:34},
    { id:'s3',type:'source',label:'Databases',   x:0.98,y:0.36,color:'rgba(60,180,100,0.12)', border:'rgba(60,180,100,0.55)', size:34},
    { id:'s4',type:'source',label:'Emails',      x:0.96,y:0.90,color:'rgba(220,160,40,0.12)', border:'rgba(220,160,40,0.6)',  size:34},
    { id:'s5',type:'source',label:'Messages',    x:0.38,y:0.97,color:'rgba(150,90,220,0.12)', border:'rgba(150,90,220,0.55)',size:34},
    { id:'s6',type:'source',label:'Video and audio',x:0.02,y:0.60,color:'rgba(220,90,80,0.12)', border:'rgba(220,90,80,0.55)', size:34},
  ];
  const conns = [
    ['brain','products'],['brain','customers'],['brain','ops'],['brain','comms'],
    ['products','s1'],['products','s2'],['customers','s3'],['ops','s4'],['comms','s5'],['comms','s6'],
    ['products','customers'],['ops','comms'],
  ];
  const pos = {}; nodes.forEach(n => { pos[n.id]={x:n.x*W,y:n.y*H}; });
  let linesSvg = '';
  conns.forEach(([a,b],i) => {
    if (!pos[a]||!pos[b]) return;
    const cross = (a==='products'&&b==='customers')||(a==='ops'&&b==='comms');
    linesSvg += `<line id="kgl${i}" x1="${pos[a].x}" y1="${pos[a].y}" x2="${pos[b].x}" y2="${pos[b].y}" stroke="${cross?'rgba(0,48,23,0.06)':'rgba(0,48,23,0.12)'}" stroke-width="${cross?1:1.5}" stroke-dasharray="${cross?'4 5':'none'}" fill="none"/>`;
  });
  svg.innerHTML = linesSvg;
  nodes.forEach(n => {
    const el = document.createElement('div');
    el.className = `kg-node kg-node-${n.type}`;
    el.style.left=(n.x*W)+'px'; el.style.top=(n.y*H)+'px';
    const star = n.type==='center' ? `<svg width="22" height="22" viewBox="0 0 22 22"><path d="M11 4C11.5 7.6 13.4 9.5 17 10 13.4 10.5 11.5 12.4 11 16 10.5 12.4 8.6 10.5 5 10 8.6 9.5 10.5 7.6 11 4Z" fill="#BAD9A8"/></svg>` : '';
    const sub = n.sub ? `<div class="kg-node-sub">${n.sub}</div>` : '';
    el.innerHTML = `<div class="kg-node-inner"><div class="kg-node-dot" style="width:${n.size}px;height:${n.size}px;background:${n.color};border:${n.type==='source'?'1.5px':'2px'} solid ${n.border};">${star}</div><div class="kg-node-label">${n.label}</div>${sub}</div>`;
    const dot = el.querySelector('.kg-node-dot');
    if (dot) dot.style.animationDelay = (Math.random()*3)+'s';
    wrap.appendChild(el);
  });
  [0,1,2,3,4,6,8].forEach((ci,i) => {
    if (!conns[ci]) return;
    const [a,b]=conns[ci]; if(!pos[a]||!pos[b]) return;
    setTimeout(()=>kgPulse(pos[a],pos[b],wrap), i*700);
    setInterval(()=>kgPulse(pos[a],pos[b],wrap), 3200+i*300);
  });
  const lineEls = Array.from(svg.querySelectorAll('line'));
  let ali = 0;
  setInterval(() => {
    lineEls.forEach((l,i) => { const c=i>=10; l.setAttribute('stroke',c?'rgba(0,48,23,0.06)':'rgba(0,48,23,0.12)'); l.setAttribute('stroke-width',c?1:1.5); });
    const al=lineEls[ali]; if(al){al.setAttribute('stroke','rgba(0,48,23,0.45)');al.setAttribute('stroke-width','2.5');}
    ali=(ali+1)%lineEls.length;
  }, 550);
}

function kgPulse(from, to, container) {
  const dot = document.createElement('div');
  dot.style.cssText = `position:absolute;width:6px;height:6px;border-radius:50%;background:#003017;box-shadow:0 0 8px rgba(0,48,23,0.4);pointer-events:none;z-index:10;transform:translate(-50%,-50%);`;
  container.appendChild(dot);
  const start=performance.now(), dur=1600;
  function step(now) {
    const t=Math.min((now-start)/dur,1), e=t<0.5?2*t*t:1-Math.pow(-2*t+2,2)/2, o=t<0.1?t/0.1:t>0.85?(1-t)/0.15:1;
    dot.style.opacity=o; dot.style.left=(from.x+(to.x-from.x)*e)+'px'; dot.style.top=(from.y+(to.y-from.y)*e)+'px';
    t<1?requestAnimationFrame(step):dot.remove();
  }
  requestAnimationFrame(step);
}

window.addEventListener('load', () => { initPipeline(); });


function initCardChat(containerId, conversations, type) {
  var container = document.getElementById(containerId);
  if (!container) return;

  var starSvg = '<svg width="12" height="12" viewBox="0 0 22 22" fill="none"><path d="M11 4C11.5 7.6 13.4 9.5 17 10 13.4 10.5 11.5 12.4 11 16 10.5 12.4 8.6 10.5 5 10 8.6 9.5 10.5 7.6 11 4Z" fill="#BAD9A8"/></svg>';
  var arrowSvg = '<svg width="8" height="8" viewBox="0 0 10 10" fill="none"><path d="M2 5h6M5 2l3 3-3 3" stroke="#003017" stroke-width="1.3" stroke-linecap="round"/></svg>';

  function typeText(el, text, speed, cb) {
    var i = 0;
    function tick() {
      if (i <= text.length) {
        el.textContent = text.slice(0, i);
        i++;
        setTimeout(tick, speed);
      } else if (cb) cb();
    }
    tick();
  }

  function showEl(el) {
    el.style.opacity = '0';
    el.style.transform = 'translateY(8px)';
    el.style.transition = 'opacity 0.35s ease, transform 0.35s ease';
    setTimeout(function() {
      el.style.opacity = '1';
      el.style.transform = 'translateY(0)';
    }, 50);
  }

  function runExchange() {
    var conv = conversations[0];
    container.innerHTML = '';

    var inner = document.createElement('div');
    inner.style.cssText = 'position:absolute;inset:0;padding:14px 16px;display:flex;flex-direction:column;gap:10px;overflow:hidden;';
    container.appendChild(inner);

    var qEl = document.createElement('div');
    qEl.className = 'aibrain-q';
    qEl.style.cssText = 'font-size:13px;padding:10px 14px;opacity:0;transform:translateY(8px);transition:opacity 0.35s ease,transform 0.35s ease;';
    qEl.textContent = conv.q;
    inner.appendChild(qEl);
    showEl(qEl);

    setTimeout(function() {
      var aWrap = document.createElement('div');
      aWrap.className = 'aibrain-a-wrap';
      aWrap.style.cssText = 'opacity:0;transform:translateY(8px);transition:opacity 0.35s ease,transform 0.35s ease;';

      var avatar = document.createElement('div');
      avatar.className = 'aibrain-a-avatar';
      avatar.style.cssText = 'width:24px;height:24px;';
      avatar.innerHTML = starSvg;

      var aBody = document.createElement('div');
      aBody.className = 'aibrain-a';
      aBody.style.cssText = 'padding:12px 14px;min-width:0;overflow:hidden;';
      aBody.innerHTML = '<div class="icard-thinking"><span></span><span></span><span></span></div>';

      aWrap.appendChild(avatar);
      aWrap.appendChild(aBody);
      inner.appendChild(aWrap);
      showEl(aWrap);

      setTimeout(function() {
        var textEl = document.createElement('div');
        textEl.className = 'aibrain-a-text';
        textEl.style.cssText = 'font-size:13px;margin-bottom:8px;';

        var cursor = document.createElement('span');
        cursor.style.cssText = 'display:inline-block;width:1.5px;height:13px;background:var(--forest);margin-left:1px;vertical-align:text-bottom;animation:eaCursorBlink 0.6s ease infinite;';

        aBody.innerHTML = '';
        aBody.appendChild(textEl);
        aBody.appendChild(cursor);

        typeText(textEl, conv.a, 18, function() {
          cursor.remove();

          if (type === 'knowledge' && conv.sources) {
            var srcDiv = document.createElement('div');
            srcDiv.className = 'aibrain-sources';
            srcDiv.style.cssText = 'opacity:0;transition:opacity 0.4s ease;';
            conv.sources.forEach(function(s) {
              var tag = document.createElement('div');
              tag.className = 'aibrain-source-tag';
              tag.style.cssText = 'font-size:11px;padding:3px 8px;';
              tag.innerHTML = arrowSvg + s;
              srcDiv.appendChild(tag);
            });
            aBody.appendChild(srcDiv);
            setTimeout(function() { srcDiv.style.opacity = '1'; }, 100);
          }

          if (type === 'chatbot' && conv.products) {
            var carousel = document.createElement('div');
            carousel.className = 'shop-carousel';
            carousel.style.cssText = 'opacity:0;transition:opacity 0.4s ease;margin-top:4px;';
            conv.products.forEach(function(p) {
              var prod = document.createElement('div');
              prod.className = 'shop-product';
              prod.innerHTML =
                '<div class="shop-product-img">' + (p.img ? '<img src="' + p.img + '" alt="' + p.name + '" style="width:100%;height:100%;object-fit:cover;border-radius:6px;">' : '') + '</div>' +
                '<div class="shop-product-name">' + p.name + '</div>' +
                '<div class="shop-product-price">' + p.price + '</div>' +
                '<span class="shop-product-link">View \u2192</span>';
              carousel.appendChild(prod);
            });
            aBody.appendChild(carousel);
            setTimeout(function() { carousel.style.opacity = '1'; }, 100);
          }
        });
      }, 900);
    }, 600);
  }

  var obs = new IntersectionObserver(function(entries) {
    if (entries[0].isIntersecting) {
      runExchange();
      obs.disconnect();
    }
  }, { threshold: 0.3 });
  obs.observe(container.closest('.interface-card'));
}

window.addEventListener('load', function() {
  initCardChat('kaChat', [
    { q: "Which version of our returns policy is current?", a: "The current policy is v4.2, updated 14 Jan 2026, approved by Sarah M. (Head of Ops).", sources: ["Returns_Policy_v4.2.pdf", "Ops_Log_Jan26.xlsx"] }
  ], 'knowledge');

  setTimeout(function() {
    initCardChat('rcChat', [
      { q: "Looking for comfortable running shoes under \u00a3120", a: "Here are our top picks for you:", products: [{ name: "AeroRun Pro", price: "\u00a389.00", img: "assets/products/shoe_1.png" }, { name: "CloudStride X", price: "\u00a3109.00", img: "assets/products/shoe_2.png" }, { name: "PaceMax Lite", price: "\u00a395.00", img: "assets/products/shoe_3.png" }] }
    ], 'chatbot');
  }, 400);
});

function initEmailAnim() {
  var inbox = document.getElementById('eaInbox');
  if (!inbox) return;
  var received = document.getElementById('eaReceived');
  var compose = document.getElementById('eaCompose');
  var replyEl = document.getElementById('eaReplyText');
  var cursor = document.getElementById('eaCursor');
  var toolbar = document.getElementById('eaToolbar');
  var sendBtn = document.getElementById('eaSendBtn');
  var hlRow = document.getElementById('eaInboxTarget');

  var reply = "Hi Sarah,\n\nThanks for your interest! I\u2019ve attached our standard partnership terms. I\u2019m free Tuesday or Thursday, shall I send a calendar invite for 2pm?\n\nBest regards";

  function resetAll() {
    [inbox, received, compose].forEach(function(el) {
      el.classList.remove('ea-active', 'ea-exit-up');
    });
    toolbar.classList.remove('ea-gm-bar--show');
    hlRow.classList.remove('ea-row-hl');
    replyEl.textContent = '';
    cursor.style.display = '';
    sendBtn.classList.remove('ea-ready', 'ea-pressed', 'ea-sent');
    sendBtn.textContent = 'Send';
  }

  function typeChar(text, i, cb) {
    if (i <= text.length) {
      replyEl.textContent = text.slice(0, i);
      setTimeout(function() { typeChar(text, i + 1, cb); }, 16);
    } else { cb(); }
  }

  function runCycle() {
    resetAll();
    setTimeout(function() {
      inbox.classList.add('ea-active');
      setTimeout(function() {
        hlRow.classList.add('ea-row-hl');
        setTimeout(function() {
          inbox.classList.remove('ea-active');
          inbox.classList.add('ea-exit-up');
          setTimeout(function() {
            toolbar.classList.add('ea-gm-bar--show');
            received.classList.add('ea-active');
            setTimeout(function() {
              received.classList.remove('ea-active');
              received.classList.add('ea-exit-up');
              setTimeout(function() {
                compose.classList.add('ea-active');
                setTimeout(function() {
                  typeChar(reply, 0, function() {
                    cursor.style.display = 'none';
                    sendBtn.classList.add('ea-ready');
                    setTimeout(function() {
                      sendBtn.classList.add('ea-pressed');
                      setTimeout(function() {
                        sendBtn.classList.remove('ea-pressed');
                        sendBtn.classList.add('ea-sent');
                        sendBtn.textContent = 'Sent \u2713';
                        setTimeout(function() {
                          compose.classList.remove('ea-active');
                          compose.classList.add('ea-exit-up');
                          toolbar.classList.remove('ea-gm-bar--show');
                          setTimeout(runCycle, 600);
                        }, 1200);
                      }, 150);
                    }, 500);
                  });
                }, 400);
              }, 400);
            }, 2400);
          }, 400);
        }, 800);
      }, 1200);
    }, 400);
  }

  var obs = new IntersectionObserver(function(entries) {
    if (entries[0].isIntersecting) {
      runCycle();
      obs.disconnect();
    }
  }, { threshold: 0.3 });
  obs.observe(inbox.closest('.interface-card'));
}

window.addEventListener('load', initEmailAnim);

/* ================================================================
   LOGO CAROUSEL — JS-driven RAF marquee
   Clones the single source set as many times as needed to fill the
   viewport at every scroll position, so there is never a gap.
   ================================================================ */
(function () {
  var wrap = document.querySelector('.trusted-track-wrap');
  var track = document.querySelector('.trusted-track');
  var sourceSet = document.querySelector('.trusted-track-set');
  if (!wrap || !track || !sourceSet) return;

  var pos = 0;
  var speed = 0.45; // px per frame (~27 px/s at 60 fps)
  var setWidth = 0;

  function fillTrack() {
    // Remove any clones from a previous call
    Array.from(track.querySelectorAll('.trusted-track-set:not(:first-child)')).forEach(function (el) { el.remove(); });

    setWidth = sourceSet.offsetWidth;
    // Need enough copies so (numCopies - 1) * setWidth >= wrapWidth
    // i.e. after a snap there is always content filling the whole viewport.
    var numCopies = Math.ceil(wrap.offsetWidth / setWidth) + 2;
    for (var i = 1; i < numCopies; i++) {
      track.appendChild(sourceSet.cloneNode(true));
    }
  }

  function tick() {
    pos -= speed;
    if (Math.abs(pos) >= setWidth) pos += setWidth;
    track.style.transform = 'translateX(' + pos + 'px)';
    requestAnimationFrame(tick);
  }

  function setup() {
    fillTrack();
    requestAnimationFrame(tick);
    // Re-fill if the viewport is resized (e.g. rotation on mobile)
    window.addEventListener('resize', fillTrack, { passive: true });
  }

  // Wait for every original image to load so offsetWidth is accurate
  var imgs = Array.from(sourceSet.querySelectorAll('img'));
  var pending = imgs.length;

  function onSettle() { if (--pending <= 0) setup(); }

  if (pending === 0) { setup(); return; }
  imgs.forEach(function (img) {
    if (img.complete && img.naturalWidth > 0) { onSettle(); }
    else {
      img.addEventListener('load',  onSettle, { once: true });
      img.addEventListener('error', onSettle, { once: true });
    }
  });

  setTimeout(setup, 1500); // fallback if images never fire
})();

function showExchange(n) {
  document.querySelectorAll('.aibrain-exchange').forEach(e => e.classList.add('aibrain-exchange--hidden'));
  document.getElementById('aiSuggestions').style.display = 'none';
  const ex = document.getElementById('ex' + n);
  if (ex) ex.classList.remove('aibrain-exchange--hidden');
  setTimeout(() => {
    document.getElementById('aiSuggestions').style.display = 'flex';
    const allQ = {
      1: 'Knowledge assistant: returns policy query',
      2: 'Customer support: delayed delivery query',
      3: 'Email automation: partnership enquiry draft',
      4: 'Sales chatbot: product recommendation',
      5: 'Workflow: contract risk flagging'
    };
    const suggestions = document.querySelectorAll('.aibrain-suggestion');
    const others = Object.entries(allQ).filter(([k]) => parseInt(k) !== n);
    suggestions.forEach((s, i) => {
      if (others[i]) {
        s.textContent = others[i][1];
        s.onclick = () => showExchange(parseInt(others[i][0]));
      }
    });
  }, 300);
}
</script>

<script>
(function() {
  const canvas = document.getElementById('heroStatic');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const scale = 1.7;
  let w, h;

  function resize() {
    const rect = canvas.parentElement.getBoundingClientRect();
    w = Math.ceil(rect.width / scale);
    h = Math.ceil(rect.height / scale);
    canvas.width = w;
    canvas.height = h;
  }

  resize();
  window.addEventListener('resize', resize);

  const img = ctx.createImageData(w, h);

  let lastFrame = 0;
  const interval = 1000 / 12;

  function draw(now) {
    requestAnimationFrame(draw);
    if (now - lastFrame < interval) return;
    lastFrame = now;

    if (canvas.width !== w || canvas.height !== h) {
      resize();
    }

    const data = img.data;
    const len = w * h;
    for (let i = 0; i < len; i++) {
      const v = (Math.random() * 255) | 0;
      const idx = i << 2;
      data[idx] = v;
      data[idx + 1] = v;
      data[idx + 2] = v;
      data[idx + 3] = 255;
    }
    ctx.putImageData(img, 0, 0);
  }

  requestAnimationFrame(draw);
})();

(function() {
  const canvases = document.querySelectorAll('.card-fuzz-canvas');
  if (!canvases.length) return;
  const scale = 1.7;
  const interval = 1000 / 12;
  let lastFrame = 0;

  const entries = [];
  canvases.forEach(c => {
    const ctx = c.getContext('2d');
    entries.push({ c, ctx, w: 0, h: 0, img: null });
  });

  function resize() {
    entries.forEach(e => {
      const rect = e.c.parentElement.getBoundingClientRect();
      e.w = Math.ceil(rect.width / scale);
      e.h = Math.ceil(rect.height / scale);
      e.c.width = e.w;
      e.c.height = e.h;
      e.img = e.ctx.createImageData(e.w, e.h);
    });
  }
  resize();
  window.addEventListener('resize', resize);

  function draw(now) {
    requestAnimationFrame(draw);
    if (now - lastFrame < interval) return;
    lastFrame = now;
    entries.forEach(e => {
      const data = e.img.data;
      const len = e.w * e.h;
      for (let i = 0; i < len; i++) {
        const v = (Math.random() * 255) | 0;
        const idx = i << 2;
        data[idx] = v;
        data[idx + 1] = v;
        data[idx + 2] = v;
        data[idx + 3] = 255;
      }
      e.ctx.putImageData(e.img, 0, 0);
    });
  }
  requestAnimationFrame(draw);
})();
</script>

</body>
</html>
